{"version":3,"sources":["headerTitle.svg","header.svg","components/implementations/svg/Legend.js","components/implementations/svg/Arrow.js","components/implementations/graphs/NeuralNetworkComponent.js","components/implementations/graphs/ScatterPlot.js","components/implementations/graphs/AnimatedScatterPlot.js","components/implementations/graphs/Loss.js","components/implementations/article/Typeset.js","components/implementations/article/LinearFunction.js","components/implementations/article/NestedFunction.js","components/implementations/article/assets/scaled.gif","components/implementations/article/assets/nn.svg","components/implementations/article/assets/forward.svg","components/implementations/article/assets/backward.svg","components/implementations/article/LinearScatter.js","components/implementations/article/ContourLoss.js","components/implementations/article/SubTool.js","components/implementations/article/assets/structMan.svg","components/implementations/article/assets/structArt.svg","components/implementations/article/assets/structNN.svg","components/implementations/article/assets/structLin.svg","components/implementations/article/Nav.js","components/implementations/article/Explanation.js","components/implementations/app/assets/controlcenter.gif","components/implementations/app/assets/customization.gif","components/implementations/app/assets/nn.png","components/implementations/app/assets/scatter.gif","components/implementations/app/assets/key.svg","nnMiniLibrary/implementations/Neuron.js","nnMiniLibrary/implementations/Loss.js","nnMiniLibrary/implementations/NeuralNetwork.js","nnMiniLibrary/implementations/Tools.js","Utils/implementations/Draw.js","components/implementations/app/MainTool.js","App.js","components/implementations/article/Header.js","reportWebVitals.js","index.js"],"names":["Legend","source","target","color","isAnimating","id","orient","markerWidth","markerHeight","refX","refY","d","fill","className","markerEnd","stroke","x","y","NeuralNetworkComponent","props","state","array","flattendArray","i","length","e","push","val","array3d","j","k","this","isUndefined","playing","mode","shapedLinks","shapedWeights","shapedRects","miniNN","subEpoch","keyFrameLoss","keyFrameLayer","link","input","label","children","d3","graphConnectionColor","squareWidth","VerticalArrow","xStart","yStart","dirIsUp","vector","Arrow","nn","width","height","overflow","map","layer","neuron","moving","colorChange","isUndefined3d","currentWeight","sw","Math","abs","s","gradient","model","dWeights","gradientWithLr","select","transition","duration","ease","attr","strokeWidth","actColor","beforeUpdate","brighter","actStep","lr","dActStep","fontFamily","fontSize","Component","ScatterPlot","node","formattedPoints","selectAll","data","enter","append","_","style","a","padding","start","stop","container","svg","xScale","domain","range","yScale","xAxis","scale","yAxis","call","X","yhat","dataSet","remove","plotPoints","AnimatedScatterPlot","potential","times","realYhat","zeroArray","potentialYhat","xNum","status","shouldNotRender","Loss","ticks","lossArray","lossMin","lossMax","$","inlineLaTeX","math","$$","blockLaTeX","LinearScatter","weight","bias","loss","line","show","y_pred","len","tf","yTensor","y_predTensor","dataSync","output","Array","increment","initDomain","initRange","computeLine","initLine","setState","dataGenerator","Box","display","justifyContent","filter","marginLeft","Card","variant","CardContent","Slider","value","onChange","n","newLine","min","step","max","valueLabelDisplay","toFixed","Button","size","backgroundColor","onClick","ContourLoss","m","b","summed","pow","darkness","values","thresholds","contours","join","ms","SubTool","playButton","linreg","meanSquaredError","rsquared","hyperparams","learningRate","epochs","speed","tunableparams","generateData","bind","linearRegression","handleSlider","reset","mean","XTensor","yPred","h","shape","dlossdm","dlossdb","lossValue","from","timer","Promise","res","setTimeout","upperBounds","changeSpeed","event","num","precision","marginTop","marginRight","Typography","component","toPrecision","IconButton","Replay","Fab","background","disableTouchRipple","PlayArrow","Stop","SlowMotionVideo","isFinite","Nav","scroller","scrollTo","delay","smooth","src","structArtSVG","offset","structManSVG","structLinSVG","structNNSVG","Explanation","topic","title","subtopic","paper","name","forwardSVG","backwardSVG","scaledGIF","Help","maxWidth","Neuron","weights","array1","array2","item","dvalues","oppositeParameter","mult","reduce","dvalue","numInputs","dSumArray","inputs","activation","sum","multStep","sumStep","dSum","dSumStep","dBias","dInputs","dInputsSum","MeanSquaredErrorLoss","subStep","squareStep","NeuralNetwork","biases","dense","array1Length","array2Length","console","error","result","lastLayer","outputs","forward","ReLU","linear","add","zeros","backward","dValues","dLinear","dReLU","gd","dweight","newWeights","newBias","change","calcChange","l","formatWeightArray","uweights","weightSet","t","w","toFunc2DArray","arr","fixed","flatten","getRandomInt","floor","random","tensorToArray","tensor","generateLinearScale","generateLink","adjustment","generateNeuronPlacement","layerProportion","startNeuron","stopNeuron","shapedNeurons","flattenedNeurons","coordinate","generateLinksPlacement","linksGenerator","perLink","layerLinks","neuronLinks","nextNeuron","MainTool","tensorFlowNN","epoch","cpyEpoch","biasesData","weightsData","rects","direction","curve","controls","sliderVal","stopRender","keyFrameScatter","lossSavings","lossDifference","singleInputExample","singleLabelExample","newOutput","controlCenterHelp","customizationHelp","neuralNetworkHelp","scatterHelp","lossHelp","lossChange","singleInputIndex","zoom","initNeuralNetwork","run","genTensorData","mutate","train","printParameters","resetParameters","asyncPause","changeModelLr","anim","randomInputGeneration","randomInput","tools","formattedWeights","clone","update","updatedLoss","inputArray","inputArrayLength","outputArray","forwardAll","flattenedWeights","draw","splice","lrChange","key","subkey","inputShape","units","useBias","addModel","compile","optimizer","sgd","play","fit","batchSize","yhatTensor","predict","eqn","scaled","volume","getWeights","modelCompile","document","body","clientWidth","zoomFactor","log","dataSets","PlayButtonClick","controlsReg","CardActions","Tooltip","arrow","disabled","controlsBackProp","controlCenter","placement","open","formatValue","Chip","defaultValue","aria-labelledby","marks","scatter","position","bottom","right","neuralNetwork","left","outlineColor","paddingBottom","transform","keySVG","Dialog","PaperProps","DialogActions","Close","DialogContent","controlGif","alt","marginBottom","customGif","nnDiagram","scatterGif","App","ReactGa","initialize","pageview","header","headerTitleSVG","acks","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8a3591a4.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/headerTitle.0f9249c8.svg\";","export default __webpack_public_path__ + \"static/media/header.f51054ca.svg\";","import React from \"react\";\nimport \"../d3.css\";\n\nfunction Legend() {\n\tconst height = 10;\n\tconst width = 100;\n\treturn (\n\t\t<div>\n\t\t\t<svg\n\t\t\t\twidth={width}\n\t\t\t\theight={height}\n\t\t\t\tclassName=\"grad\"\n\t\t\t\toverflow=\"visible\"\n\t\t\t>\n\t\t\t\t<text\n\t\t\t\t\tfill=\"grey\"\n\t\t\t\t\tfontFamily=\"sans-serif\"\n\t\t\t\t\tfontSize=\"10px\"\n\t\t\t\t\tx={0}\n\t\t\t\t\ty={-13}\n\t\t\t\t>\n\t\t\t\t\tColor and stroke\n\t\t\t\t</text>\n\n\t\t\t\t<text\n\t\t\t\t\tfill=\"grey\"\n\t\t\t\t\tfontFamily=\"sans-serif\"\n\t\t\t\t\tfontSize=\"10px\"\n\t\t\t\t\tx={0}\n\t\t\t\t\ty={-4}\n\t\t\t\t>\n\t\t\t\t\tindicate weight\n\t\t\t\t</text>\n\n\t\t\t\t<text fontSize=\"12px\" fill=\"grey\" x={-0.5} y={18}>\n\t\t\t\t\t|\n\t\t\t\t</text>\n\t\t\t\t<text fontSize=\"13px\" fill=\"grey\" x={-2.5} y={28}>\n\t\t\t\t\t\n\t\t\t\t</text>\n\n\t\t\t\t<text fontSize=\"12px\" fill=\"grey\" x={width / 2 - 2} y={18}>\n\t\t\t\t\t|\n\t\t\t\t</text>\n\t\t\t\t<text fontSize=\"13px\" fill=\"grey\" x={width / 2 - 4.5} y={30}>\n\t\t\t\t\t0\n\t\t\t\t</text>\n\n\t\t\t\t<text fontSize=\"12px\" fill=\"grey\" x={width - 2} y={18}>\n\t\t\t\t\t|\n\t\t\t\t</text>\n\t\t\t\t<text fontSize=\"13px\" fill=\"grey\" x={width - 3 - 1.5} y={28}>\n\t\t\t\t\t+\n\t\t\t\t</text>\n\t\t\t</svg>\n\t\t</div>\n\t);\n}\n\nexport default Legend;\n","import React from \"react\";\nimport \"../d3.css\";\nconst Legend = ({ source, target, color, isAnimating }) => (\n\t<g>\n\t\t<defs>\n\t\t\t<marker\n\t\t\t\tid=\"head\"\n\t\t\t\torient=\"auto\"\n\t\t\t\tmarkerWidth=\"3\"\n\t\t\t\tmarkerHeight=\"4\"\n\t\t\t\trefX=\"0.1\"\n\t\t\t\trefY=\"2\"\n\t\t\t>\n\t\t\t\t<path d=\"M0,0 V4 L2,2 Z\" fill={color} />\n\t\t\t</marker>\n\t\t</defs>\n\t\t<path\n\t\t\tclassName={!isAnimating ? \"arrow\" : \"absorb\"}\n\t\t\tid=\"arrow-line\"\n\t\t\tmarkerEnd=\"url(#head)\"\n\t\t\tfill=\"none\"\n\t\t\tstroke={color}\n\t\t\td={`M${source.x},${source.y}, ${target.x}, ${target.y}`}\n\t\t/>\n\t</g>\n);\nexport default Legend;\n","import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\nimport { Help } from \"@material-ui/icons\";\nimport { IconButton } from \"@material-ui/core\";\nimport Legend from \"../svg/Legend\";\nimport Arrow from \"../svg/Arrow\";\nimport \"../d3.css\";\n\nclass NeuralNetworkComponent extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\t}\n\tflatten(array) {\n\t\tlet flattendArray = [];\n\t\tfor (let i = 0; i < array.length; i++) {\n\t\t\tfor (let e = 0; e < array[i].length; e++) {\n\t\t\t\tflattendArray.push(array[i][e]);\n\t\t\t}\n\t\t}\n\t\treturn flattendArray;\n\t}\n\tisEmpty(array) {\n\t\treturn array.length === 0;\n\t}\n\tisUndefined(val) {\n\t\treturn typeof val === \"undefined\";\n\t}\n\tisUndefined3d(array3d, i, j, k) {\n\t\treturn (\n\t\t\tthis.isUndefined(array3d[i]) ||\n\t\t\tthis.isUndefined(array3d[i][j]) ||\n\t\t\tthis.isUndefined(array3d[i][j][k])\n\t\t);\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tplaying,\n\t\t\tmode,\n\t\t\tshapedLinks,\n\t\t\tshapedWeights,\n\t\t\tshapedRects,\n\t\t\tminiNN,\n\t\t\tsubEpoch,\n\t\t\tkeyFrameLoss,\n\t\t\tkeyFrameLayer,\n\t\t\tinput,\n\t\t\tlabel,\n\t\t\tchildren,\n\t\t} = this.props;\n\t\tconst link = d3\n\t\t\t.linkHorizontal()\n\t\t\t.x((d) => d.x)\n\t\t\t.y((d) => d.y);\n\t\tconst negWeight = \"#D62839\";\n\t\tconst posWeight = \"#4BA3C3\";\n\t\tconst graphConnectionColor = \"black\";\n\t\tconst squareWidth = 32;\n\n\t\tconst VerticalArrow = (xStart, yStart, length, dirIsUp, color) => {\n\t\t\tconst vector = dirIsUp ? -length : length;\n\t\t\treturn (\n\t\t\t\t<Arrow\n\t\t\t\t\tsource={{ x: xStart, y: yStart }}\n\t\t\t\t\ttarget={{ x: xStart, y: yStart + vector }}\n\t\t\t\t\tcolor={color}\n\t\t\t\t\tisAnimating={subEpoch === \"transition\"}\n\t\t\t\t/>\n\t\t\t);\n\t\t};\n\t\tconst keyFrameLossCalc = () => {\n\t\t\tif (keyFrameLoss === 1) {\n\t\t\t\treturn \"edgeForward\";\n\t\t\t} else if (keyFrameLoss === 2) {\n\t\t\t\treturn \"edgeBackward\";\n\t\t\t} else {\n\t\t\t\treturn \"edgePaused\";\n\t\t\t}\n\t\t};\n\n\t\tconst nn = (\n\t\t\t<svg id=\"p\" width=\"810\" height=\"500\" overflow=\"visible\">\n\t\t\t\t<g id=\"ee\">\n\t\t\t\t\t<path\n\t\t\t\t\t\td=\"M 750, 234 L 750, 300\"\n\t\t\t\t\t\tstroke={\n\t\t\t\t\t\t\tkeyFrameLoss === 2 || keyFrameLoss === 1\n\t\t\t\t\t\t\t\t? \"orange\"\n\t\t\t\t\t\t\t\t: graphConnectionColor\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\tmode && keyFrameLoss > 0\n\t\t\t\t\t\t\t\t? keyFrameLossCalc()\n\t\t\t\t\t\t\t\t: playing\n\t\t\t\t\t\t}\n\t\t\t\t\t></path>\n\n\t\t\t\t\t<path\n\t\t\t\t\t\td={link({\n\t\t\t\t\t\t\tsource: { x: 766, y: 315 },\n\t\t\t\t\t\t\ttarget: { x: 890, y: 430 },\n\t\t\t\t\t\t})}\n\t\t\t\t\t\tstroke={graphConnectionColor}\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tclassName={playing}\n\t\t\t\t\t></path>\n\t\t\t\t\t<path\n\t\t\t\t\t\td={link({\n\t\t\t\t\t\t\tsource: { x: 766, y: 250 },\n\t\t\t\t\t\t\ttarget: { x: 890, y: 150 },\n\t\t\t\t\t\t})}\n\t\t\t\t\t\tstroke={graphConnectionColor}\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tclassName={playing}\n\t\t\t\t\t></path>\n\t\t\t\t\t{shapedLinks.map((layer, i) => {\n\t\t\t\t\t\treturn layer.map((neuron, j) => {\n\t\t\t\t\t\t\tlet moving = \"edgePaused\";\n\t\t\t\t\t\t\tlet color = \"orange\";\n\t\t\t\t\t\t\tlet colorChange = false;\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tmode &&\n\t\t\t\t\t\t\t\tsubEpoch === \"forward\" &&\n\t\t\t\t\t\t\t\ti === keyFrameLayer\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tmoving = \"edgeForward\";\n\t\t\t\t\t\t\t\tcolorChange = true;\n\t\t\t\t\t\t\t\tcolor = \"orange\";\n\t\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t\tmode &&\n\t\t\t\t\t\t\t\tsubEpoch === \"backward\" &&\n\t\t\t\t\t\t\t\ti === keyFrameLayer\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tmoving = \"edgeBackward\";\n\t\t\t\t\t\t\t\tcolorChange = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn neuron.map((d, k) => {\n\t\t\t\t\t\t\t\tconst isUndefined = this.isUndefined3d(\n\t\t\t\t\t\t\t\t\tshapedWeights,\n\t\t\t\t\t\t\t\t\ti,\n\t\t\t\t\t\t\t\t\tj,\n\t\t\t\t\t\t\t\t\tk\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tconst currentWeight = isUndefined\n\t\t\t\t\t\t\t\t\t? []\n\t\t\t\t\t\t\t\t\t: shapedWeights[i][j][k];\n\t\t\t\t\t\t\t\tconst sw = isUndefined\n\t\t\t\t\t\t\t\t\t? 1\n\t\t\t\t\t\t\t\t\t: 2 * Math.abs(currentWeight) + 0.1;\n\t\t\t\t\t\t\t\tconst s = isUndefined\n\t\t\t\t\t\t\t\t\t? \"lightgrey\"\n\t\t\t\t\t\t\t\t\t: currentWeight > 0\n\t\t\t\t\t\t\t\t\t? posWeight\n\t\t\t\t\t\t\t\t\t: negWeight;\n\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\tmode &&\n\t\t\t\t\t\t\t\t\tsubEpoch === \"update\" &&\n\t\t\t\t\t\t\t\t\tthis.props.isAnimating === true\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tlet gradient =\n\t\t\t\t\t\t\t\t\t\t2 * miniNN.model[i][j].dWeights[k];\n\t\t\t\t\t\t\t\t\tlet gradientWithLr = gradient * 0.01;\n\n\t\t\t\t\t\t\t\t\td3.select(\"#nn\")\n\t\t\t\t\t\t\t\t\t\t.select(\"#p\")\n\t\t\t\t\t\t\t\t\t\t.select(\"#ee\")\n\t\t\t\t\t\t\t\t\t\t.select(`#cpath${i}${j}${k}`)\n\t\t\t\t\t\t\t\t\t\t.transition()\n\t\t\t\t\t\t\t\t\t\t.duration(750)\n\t\t\t\t\t\t\t\t\t\t.ease(d3.easeExpIn)\n\t\t\t\t\t\t\t\t\t\t.attr(\"stroke-width\", sw - gradient)\n\t\t\t\t\t\t\t\t\t\t.transition()\n\t\t\t\t\t\t\t\t\t\t.duration(750)\n\t\t\t\t\t\t\t\t\t\t.ease(d3.easeExpOut)\n\t\t\t\t\t\t\t\t\t\t.attr(\n\t\t\t\t\t\t\t\t\t\t\t\"stroke-width\",\n\t\t\t\t\t\t\t\t\t\t\tsw - gradientWithLr\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tid={`cpath${i}${j}${k}`}\n\t\t\t\t\t\t\t\t\t\tkey={k}\n\t\t\t\t\t\t\t\t\t\td={d}\n\t\t\t\t\t\t\t\t\t\tclassName={mode ? moving : playing}\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={sw}\n\t\t\t\t\t\t\t\t\t\tstroke={colorChange ? color : s}\n\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t})}\n\t\t\t\t\t<rect\n\t\t\t\t\t\tx={55}\n\t\t\t\t\t\ty={234}\n\t\t\t\t\t\twidth={squareWidth}\n\t\t\t\t\t\theight={squareWidth}\n\t\t\t\t\t\tfill=\"darkgrey\"\n\t\t\t\t\t></rect>\n\n\t\t\t\t\t{shapedRects.map((neuron, i) =>\n\t\t\t\t\t\tneuron.map((d, j) => {\n\t\t\t\t\t\t\tlet actColor = false;\n\t\t\t\t\t\t\tconst beforeUpdate =\n\t\t\t\t\t\t\t\tsubEpoch === \"backward\" ||\n\t\t\t\t\t\t\t\tsubEpoch === \"transition\";\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t(mode && i <= keyFrameLayer) ||\n\t\t\t\t\t\t\t\tbeforeUpdate ||\n\t\t\t\t\t\t\t\tsubEpoch === \"update\"\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tactColor = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<g>\n\t\t\t\t\t\t\t\t\t<rect\n\t\t\t\t\t\t\t\t\t\tx={d.x}\n\t\t\t\t\t\t\t\t\t\ty={d.y}\n\t\t\t\t\t\t\t\t\t\twidth={squareWidth}\n\t\t\t\t\t\t\t\t\t\theight={squareWidth}\n\t\t\t\t\t\t\t\t\t\tfill={d3\n\t\t\t\t\t\t\t\t\t\t\t.rgb(104, 104, 104)\n\t\t\t\t\t\t\t\t\t\t\t.brighter(\n\t\t\t\t\t\t\t\t\t\t\t\tactColor\n\t\t\t\t\t\t\t\t\t\t\t\t\t? miniNN.model[i][j]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.actStep +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.props.lr\n\t\t\t\t\t\t\t\t\t\t\t\t\t: 1\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\tstroke={\n\t\t\t\t\t\t\t\t\t\t\td.x === 734 && d.y === 234\n\t\t\t\t\t\t\t\t\t\t\t\t? \"#507BB6\"\n\t\t\t\t\t\t\t\t\t\t\t\t: \"black\"\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={3}\n\t\t\t\t\t\t\t\t\t></rect>\n\n\t\t\t\t\t\t\t\t\t{miniNN !== null &&\n\t\t\t\t\t\t\t\t\tmode &&\n\t\t\t\t\t\t\t\t\tbeforeUpdate &&\n\t\t\t\t\t\t\t\t\ti >= keyFrameLayer - 1 &&\n\t\t\t\t\t\t\t\t\tminiNN.model[i][j].dActStep !== 0\n\t\t\t\t\t\t\t\t\t\t? VerticalArrow(\n\t\t\t\t\t\t\t\t\t\t\t\td.x + 16,\n\t\t\t\t\t\t\t\t\t\t\t\td.y + 16,\n\t\t\t\t\t\t\t\t\t\t\t\tMath.abs(\n\t\t\t\t\t\t\t\t\t\t\t\t\tminiNN.model[i][j].dActStep\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\tminiNN.model[i][j].dActStep < 0,\n\t\t\t\t\t\t\t\t\t\t\t\t\"orange\"\n\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t: \"\"}\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})\n\t\t\t\t\t)}\n\n\t\t\t\t\t<rect\n\t\t\t\t\t\tx={734}\n\t\t\t\t\t\ty={300}\n\t\t\t\t\t\twidth={squareWidth}\n\t\t\t\t\t\theight={squareWidth}\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tstroke=\"black\"\n\t\t\t\t\t></rect>\n\t\t\t\t\t<text\n\t\t\t\t\t\tfontFamily=\"sans-serif\"\n\t\t\t\t\t\tfontSize=\"12px\"\n\t\t\t\t\t\tx={739}\n\t\t\t\t\t\ty={318}\n\t\t\t\t\t>\n\t\t\t\t\t\tloss\n\t\t\t\t\t</text>\n\t\t\t\t</g>\n\t\t\t</svg>\n\t\t);\n\t\treturn <div id=\"nn\">{nn}</div>;\n\t}\n}\n\nexport default NeuralNetworkComponent;\n","import React, { Component } from \"react\";\nimport \"../d3.css\";\nimport * as d3 from \"d3\";\n\nclass ScatterPlot extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\t}\n\n\tplotPoints(node, formattedPoints, select) {\n\t\t/* Now need to plot said data */\n\t\tnode.selectAll(\"circle\")\n\t\t\t.data(formattedPoints)\n\t\t\t.enter()\n\t\t\t.append(\"circle\")\n\t\t\t.attr(\"cx\", (d) => d.x)\n\t\t\t.attr(\"cy\", (d) => d.y)\n\t\t\t.attr(\"r\", (_, i) => (i === select ? 5 : 2))\n\t\t\t.style(\"fill\", (_, i) => (i === select ? \"orange\" : \"grey\"));\n\t}\n\t/* This is where we initialize the Scatter Plot */\n\tasync componentDidMount() {\n\t\tconst { width, height, padding, start, stop, id } = this.props;\n\t\tconst container = d3.select(`#nice${id}`);\n\n\t\tconst svg = container\n\t\t\t.append(\"svg\")\n\t\t\t.attr(\"width\", width)\n\t\t\t.attr(\"height\", height)\n\t\t\t.style(\"overflow\", \"visible\");\n\t\tsvg.append(\"rect\")\n\t\t\t.attr(\"width\", width)\n\t\t\t.attr(\"height\", height)\n\t\t\t.attr(\"class\", \"cord\");\n\t\tlet xScale = d3\n\t\t\t.scaleLinear()\n\t\t\t.domain([start, stop])\n\t\t\t.range([0, width - 2 * padding]);\n\n\t\tlet yScale = d3\n\t\t\t.scaleLinear()\n\t\t\t.domain([start, stop])\n\t\t\t.range([height - 2 * padding, 0]);\n\n\t\tlet xAxis = d3.axisBottom().scale(xScale);\n\t\tlet yAxis = d3.axisRight().scale(yScale);\n\t\tsvg.append(\"g\")\n\t\t\t.attr(\"class\", \"axis\")\n\t\t\t.attr(\"transform\", `translate(0,${height - 2 * padding})`)\n\t\t\t.call(xAxis);\n\n\t\tsvg.append(\"g\")\n\t\t\t.attr(\"class\", \"axis\")\n\t\t\t.attr(\"transform\", \"translate(\" + (width - 2 * padding) + \",0)\")\n\t\t\t.call(yAxis);\n\n\t\tsvg.append(\"line\")\n\t\t\t.attr(\"x1\", 0)\n\t\t\t.attr(\"y1\", (height + 1) / 2)\n\t\t\t.attr(\"x2\", width)\n\t\t\t.attr(\"y2\", (height + 1) / 2)\n\t\t\t.attr(\"class\", \"split\");\n\t\tsvg.append(\"line\")\n\t\t\t.attr(\"x1\", (width + 1) / 2)\n\t\t\t.attr(\"y1\", 0)\n\t\t\t.attr(\"x2\", (width + 1) / 2)\n\t\t\t.attr(\"y2\", height)\n\t\t\t.attr(\"class\", \"split\");\n\n\t\tsvg.append(\"path\")\n\t\t\t.attr(\"id\", \"epic\")\n\t\t\t.attr(\"stroke\", \"none\")\n\t\t\t.attr(\"fill\", \"none\");\n\t}\n\tcomponentDidUpdate() {\n\t\tconst {\n\t\t\twidth,\n\t\t\theight,\n\t\t\tpadding,\n\t\t\tstart,\n\t\t\tstop,\n\t\t\tX,\n\t\t\ty,\n\t\t\tyhat,\n\t\t\tid,\n\t\t\tselect,\n\t\t} = this.props;\n\t\tlet xScale = d3\n\t\t\t.scaleLinear()\n\t\t\t.domain([start, stop])\n\t\t\t.range([0, width - 2 * padding]);\n\n\t\tlet yScale = d3\n\t\t\t.scaleLinear()\n\t\t\t.domain([start, stop])\n\t\t\t.range([height - 2 * padding, 0]);\n\t\tconst svg = d3.select(`#nice${id}`).select(\"svg\");\n\t\tlet dataSet = [];\n\t\tfor (let i = 0; i < X.length; i++) {\n\t\t\tdataSet.push({\n\t\t\t\tx: xScale(X[i]),\n\t\t\t\ty: yScale(y[i]),\n\t\t\t});\n\t\t}\n\t\tlet a = [];\n\t\tfor (let i = 0; i < X.length; i++) {\n\t\t\ta.push([xScale(X[i]), yScale(yhat[i])]);\n\t\t}\n\t\tsvg.selectAll(\"circle\").remove();\n\t\tthis.plotPoints(svg, dataSet, select);\n\n\t\tsvg.select(\"#epic\")\n\t\t\t.transition()\n\t\t\t.duration(this.props.duration)\n\t\t\t.attr(\"d\", d3.line()(a))\n\t\t\t.attr(\"stroke\", \"black\")\n\t\t\t.attr(\"fill\", \"none\");\n\t}\n\n\trender() {\n\t\tconst { id } = this.props;\n\t\treturn <div id={`nice${id}`}></div>;\n\t}\n}\n\nexport default ScatterPlot;\n","import React, { Component } from \"react\";\nimport \"../d3.css\";\nimport * as d3 from \"d3\";\n\nclass AnimatedScatterPlot extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\tplotPoints(node, formattedPoints, select) {\n\t\t/* Now need to plot said data */\n\t\tnode.selectAll(\"circle\")\n\t\t\t.data(formattedPoints)\n\t\t\t.enter()\n\t\t\t.append(\"circle\")\n\t\t\t.attr(\"cx\", (d) => d.x)\n\t\t\t.attr(\"cy\", (d) => d.y)\n\t\t\t.attr(\"r\", (_, i) => (i === select ? 5 : 2))\n\t\t\t.style(\"fill\", (_, i) => (i === select ? \"#4BA3C3\" : \"grey\"));\n\t}\n\t/* This will plot the real line and have an animation till it gets into place */\n\tanimateTruePredictions(svg, a) {\n\t\tsvg.select(\"#epic\")\n\t\t\t.transition()\n\t\t\t.duration(1000)\n\t\t\t.ease(d3.easeLinear)\n\t\t\t.attr(\"d\", d3.line()(a))\n\t\t\t.attr(\"stroke\", \"blue\")\n\t\t\t.attr(\"fill\", \"none\");\n\t}\n\n\t/* This is where we initialize the Scatter Plot */\n\tasync componentDidMount() {\n\t\tconst { width, height, padding, start, stop, id } = this.props;\n\t\tconst container = d3.select(`#animatedPlot${id}`);\n\n\t\tconst svg = container\n\t\t\t.append(\"svg\")\n\t\t\t.attr(\"width\", width)\n\t\t\t.attr(\"height\", height)\n\t\t\t.style(\"overflow\", \"visible\");\n\t\tsvg.append(\"rect\")\n\t\t\t.attr(\"width\", width)\n\t\t\t.attr(\"height\", height)\n\t\t\t.attr(\"class\", \"cord\");\n\t\tlet xScale = d3\n\t\t\t.scaleLinear()\n\t\t\t.domain([start, stop])\n\t\t\t.range([0, width - 2 * padding]);\n\n\t\tlet yScale = d3\n\t\t\t.scaleLinear()\n\t\t\t.domain([start, stop])\n\t\t\t.range([height - 2 * padding, 0]);\n\n\t\tlet xAxis = d3.axisBottom().scale(xScale);\n\t\tlet yAxis = d3.axisRight().scale(yScale);\n\t\tsvg.append(\"g\")\n\t\t\t.attr(\"class\", \"axis\")\n\t\t\t.attr(\"transform\", `translate(0,${height - 2 * padding})`)\n\t\t\t.call(xAxis);\n\n\t\tsvg.append(\"g\")\n\t\t\t.attr(\"class\", \"axis\")\n\t\t\t.attr(\"transform\", \"translate(\" + (width - 2 * padding) + \",0)\")\n\t\t\t.call(yAxis);\n\n\t\tsvg.append(\"line\")\n\t\t\t.attr(\"x1\", 0)\n\t\t\t.attr(\"y1\", (height + 1) / 2)\n\t\t\t.attr(\"x2\", width)\n\t\t\t.attr(\"y2\", (height + 1) / 2)\n\t\t\t.attr(\"class\", \"split\");\n\t\tsvg.append(\"line\")\n\t\t\t.attr(\"x1\", (width + 1) / 2)\n\t\t\t.attr(\"y1\", 0)\n\t\t\t.attr(\"x2\", (width + 1) / 2)\n\t\t\t.attr(\"y2\", height)\n\t\t\t.attr(\"class\", \"split\");\n\n\t\tsvg.append(\"path\")\n\t\t\t.attr(\"id\", \"epic\")\n\t\t\t.attr(\"stroke\", \"none\")\n\t\t\t.attr(\"fill\", \"none\");\n\t}\n\ta() {\n\t\tconst {\n\t\t\twidth,\n\t\t\theight,\n\t\t\tpadding,\n\t\t\tstart,\n\t\t\tstop,\n\t\t\tX,\n\t\t\ty,\n\t\t\tyhat,\n\t\t\tid,\n\t\t\tselect,\n\t\t\tpotential,\n\t\t\ttimes,\n\t\t} = this.props;\n\n\t\tlet xScale = d3\n\t\t\t.scaleLinear()\n\t\t\t.domain([start, stop])\n\t\t\t.range([0, width - 2 * padding]);\n\n\t\tlet yScale = d3\n\t\t\t.scaleLinear()\n\t\t\t.domain([start, stop])\n\t\t\t.range([height - 2 * padding, 0]);\n\t\tconst svg = d3.select(`#animatedPlot${id}`).select(\"svg\");\n\t\tlet dataSet = [];\n\t\tfor (let i = 0; i < X.length; i++) {\n\t\t\tdataSet.push({\n\t\t\t\tx: xScale(X[i]),\n\t\t\t\ty: yScale(y[i]),\n\t\t\t});\n\t\t}\n\t\tlet realYhat = [];\n\t\tlet zeroArray = [];\n\t\tlet potentialYhat = [];\n\t\tfor (let i = 0; i < X.length; i++) {\n\t\t\tconst xNum = xScale(X[i]);\n\t\t\trealYhat.push([xNum, yScale(yhat[i])]);\n\t\t\tpotentialYhat.push([xNum, yScale(potential[i])]);\n\t\t\tzeroArray.push([xNum, yScale(0)]);\n\t\t}\n\t\tsvg.selectAll(\"circle\").remove();\n\t\tthis.plotPoints(svg, dataSet, select);\n\t\tif (this.props.status === \"reset\") {\n\t\t\tsvg.select(\"#epic\")\n\t\t\t\t.attr(\"id\", \"epic\")\n\t\t\t\t.attr(\"stroke\", \"none\")\n\t\t\t\t.attr(\"fill\", \"none\");\n\t\t} else {\n\t\t\tif (this.props.status === \"real\") {\n\t\t\t\t/* This is how we plot the point */\n\t\t\t\tsvg.select(\"#epic\")\n\t\t\t\t\t.attr(\"d\", d3.line()(zeroArray))\n\t\t\t\t\t.attr(\"stroke\", \"black\")\n\t\t\t\t\t.attr(\"fill\", \"none\");\n\t\t\t\tsvg.select(\"#epic\")\n\t\t\t\t\t.transition()\n\t\t\t\t\t.duration(750)\n\t\t\t\t\t.attr(\"d\", d3.line()(realYhat));\n\t\t\t} else if (this.props.status === \"pred\") {\n\t\t\t\tsvg.select(\"#epic\")\n\t\t\t\t\t.attr(\"d\", d3.line()(realYhat))\n\t\t\t\t\t.attr(\"stroke\", \"orangered\")\n\t\t\t\t\t.attr(\"fill\", \"none\");\n\t\t\t\tsvg.select(\"#epic\")\n\t\t\t\t\t.transition()\n\t\t\t\t\t.duration(750)\n\t\t\t\t\t.attr(\"d\", d3.line()(potentialYhat));\n\t\t\t}\n\t\t}\n\t}\n\tshouldComponentUpdate() {\n\t\treturn !this.props.shouldNotRender;\n\t}\n\n\trender() {\n\t\tthis.a();\n\t\tconst { id } = this.props;\n\t\treturn <div id={`animatedPlot${id}`}></div>;\n\t}\n}\n\nexport default AnimatedScatterPlot;\n","import React, { Component } from \"react\";\nimport \"../d3.css\";\nimport * as d3 from \"d3\";\n\nclass Loss extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\t}\n\tcomponentDidMount() {\n\t\tconst container = d3.select(\"#sweet\");\n\t\tconst height = 100;\n\t\tconst width = 300;\n\t\tconst padding = 0;\n\t\tlet xScale = d3\n\t\t\t.scaleLinear()\n\t\t\t.domain([0, -1])\n\t\t\t.range([0, width - 2 * padding]);\n\n\t\tlet yScale = d3\n\t\t\t.scaleLinear()\n\t\t\t.domain([1, 1])\n\t\t\t.range([height - 2 * padding, 0]);\n\t\tconst svg = container\n\t\t\t.append(\"svg\")\n\t\t\t.attr(\"width\", width)\n\t\t\t.attr(\"height\", height)\n\t\t\t.style(\"overflow\", \"visible\");\n\n\t\tsvg.append(\"rect\")\n\t\t\t.attr(\"width\", width)\n\t\t\t.attr(\"height\", height)\n\t\t\t.attr(\"class\", \"cord\");\n\t\tlet xAxis = d3.axisBottom().scale(xScale);\n\t\tlet yAxis = d3.axisRight().scale(yScale);\n\t\tsvg.append(\"g\")\n\t\t\t.attr(\"class\", \"axis\")\n\t\t\t.attr(\"id\", \"x\")\n\t\t\t.attr(\"transform\", `translate(0,${height - 2 * padding})`)\n\t\t\t.call(xAxis);\n\n\t\tsvg.append(\"g\")\n\t\t\t.attr(\"class\", \"axis\")\n\t\t\t.attr(\"id\", \"y\")\n\t\t\t.attr(\"transform\", \"translate(\" + (width - 2 * padding) + \",0)\")\n\t\t\t.call(yAxis.ticks(0));\n\t\tsvg.append(\"path\")\n\t\t\t.attr(\"id\", \"line\")\n\t\t\t.attr(\"stroke\", \"none\")\n\t\t\t.attr(\"fill\", \"none\");\n\t\t//svg.append(\"text\").attr(\"x\", 1).attr(\"y\", -5).text(\"loss:\");\n\t}\n\tcomponentDidUpdate() {\n\t\tconst { lossArray, duration } = this.props;\n\t\tconst height = 100;\n\t\tconst width = 300;\n\t\tconst start = 0;\n\t\tconst stop = lossArray.length - 1;\n\t\tconst padding = 0;\n\t\tlet xScale = d3\n\t\t\t.scaleLinear()\n\t\t\t.domain([start, stop])\n\t\t\t.range([1, width - 2 * padding]);\n\n\t\tlet lossMin = d3.min(lossArray);\n\t\tlet lossMax = d3.max(lossArray);\n\t\tlet yScale = d3\n\t\t\t.scaleLinear()\n\t\t\t.domain([lossMin, lossMax])\n\t\t\t.range([height - 2 * padding, 0]);\n\t\tconst svg = d3.select(\"#sweet\").select(\"svg\");\n\t\tlet a = [];\n\t\tfor (let i = 0; i < lossArray.length; i++) {\n\t\t\ta.push([xScale(i), yScale(lossArray[i])]);\n\t\t}\n\n\t\tlet xAxis = d3.axisBottom().scale(xScale);\n\t\tlet yAxis = d3.axisRight().scale(yScale);\n\t\tsvg.select(\"#x\")\n\t\t\t.attr(\"transform\", `translate(0,${height - 2 * padding})`)\n\t\t\t.call(xAxis.ticks(5));\n\n\t\tsvg.select(\"#y\")\n\t\t\t.attr(\"transform\", \"translate(\" + (width - 2 * padding) + \",0)\")\n\t\t\t.call(yAxis.ticks(5));\n\t\tsvg.select(\"#line\")\n\t\t\t.transition()\n\t\t\t.duration(duration)\n\t\t\t.attr(\"d\", d3.line()(a))\n\t\t\t.attr(\"stroke\", \"black\")\n\t\t\t.attr(\"fill\", \"none\");\n\t}\n\trender() {\n\t\treturn <div id=\"sweet\"></div>;\n\t}\n}\n\nexport default Loss;\n","import \"katex/dist/katex.min.css\";\nimport { InlineMath, BlockMath } from \"react-katex\";\n\nexport const $ = (inlineLaTeX) => <InlineMath math={inlineLaTeX} />;\nexport const $$ = (blockLaTeX) => <BlockMath math={blockLaTeX} />;\n","import React, { Component } from \"react\";\nimport { $, $$ } from \"./Typeset\";\nimport { Typography, Slider, Box, Card, CardContent } from \"@material-ui/core\";\n\nclass LinearFunction extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tinput: 0,\n\t\t\toutput: 0,\n\t\t};\n\t\tthis.compute = this.compute.bind(this);\n\t}\n\tcompute(input) {\n\t\tconst linfunc = (x) => 2 * x + 1;\n\t\tconst output = linfunc(input);\n\t\tthis.setState({ input, output });\n\t}\n\tcomponentDidMount() {\n\t\tthis.compute(34);\n\t}\n\n\trender() {\n\t\tconst { input, output } = this.state;\n\t\treturn (\n\t\t\t<Box display=\"flex\">\n\t\t\t\t<Box minWidth={300}>\n\t\t\t\t\t<Card variant=\"outlined\">\n\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\t\tvalue={input}\n\t\t\t\t\t\t\t\tonChange={(e, n) => {\n\t\t\t\t\t\t\t\t\tthis.compute(n);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t></Slider>\n\t\t\t\t\t\t\t{$$(`f(${input}) = 2(${input}) + 1 = ${output}`)}\n\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t</Card>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t);\n\t}\n}\n\nexport default LinearFunction;\n","import React, { Component } from \"react\";\nimport {\n\tTypography,\n\tSlider,\n\tBox,\n\tCard,\n\tCardContent,\n\tCardActions,\n\tButton,\n} from \"@material-ui/core\";\n\nclass NestedFunction extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tinput: 0,\n\t\t\toutput1: 0,\n\t\t\toutput2: 0,\n\t\t\toutput3: 0,\n\t\t\tweights: [],\n\t\t\tbiases: [],\n\t\t};\n\t\tthis.compute = this.compute.bind(this);\n\t\tthis.initParams = this.initParams.bind(this);\n\t}\n\tcompute(input) {\n\t\tconst { weights, biases } = this.state;\n\t\tconst linfunc = (x, w, b) => w * x + b;\n\t\tconst relu = (x) => Math.max(0, x);\n\n\t\tconst output1 = linfunc(input, weights[0], biases[0]).toFixed(3);\n\t\tconst output2 = linfunc(output1, weights[1], biases[1]).toFixed(3);\n\t\tconst output3 = linfunc(output2, weights[2], biases[2]).toFixed(3);\n\t\tthis.setState({ input, output1, output2, output3 });\n\t}\n\tgenRandomArray(length) {\n\t\tlet arr = new Array(length);\n\t\tfor (let i = 0; i < arr.length; i++) {\n\t\t\tarr[i] = +Math.random().toFixed(2);\n\t\t}\n\t\treturn arr;\n\t}\n\tasync initParams() {\n\t\tconst weights = this.genRandomArray(3);\n\t\tconst biases = this.genRandomArray(3);\n\t\tthis.setState({ weights, biases });\n\t}\n\tasync componentDidMount() {\n\t\tawait this.initParams();\n\t\tthis.compute(34);\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tinput,\n\t\t\toutput1,\n\t\t\toutput2,\n\t\t\toutput3,\n\t\t\tweights,\n\t\t\tbiases,\n\t\t} = this.state;\n\t\tconst fixedInput = input.toFixed(3);\n\t\tconst outputArr = [\n\t\t\t{ output: output1, color: \"#8db600\" },\n\t\t\t{ output: output2, color: \"#FF8F00\" },\n\t\t\t{ output: output3, color: \"blue\" },\n\t\t];\n\t\treturn (\n\t\t\t<Box display=\"flex\">\n\t\t\t\t<Box width={580}>\n\t\t\t\t\t<Card variant=\"outlined\">\n\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\t\tvalue={this.state.input}\n\t\t\t\t\t\t\t\tonChange={(e, n) => {\n\t\t\t\t\t\t\t\t\tthis.compute(n);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t></Slider>\n\n\t\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\">\n\t\t\t\t\t\t\t\t<Box justifyContent=\"center\">\n\t\t\t\t\t\t\t\t\t<svg width={500} height={64}>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\td={`M${36} 16, ${100} 16`}\n\t\t\t\t\t\t\t\t\t\t\tstroke={\"#f50557\"}\n\t\t\t\t\t\t\t\t\t\t\tstrokeDasharray=\"25, 4\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={3 * weights[0] + 0.2}\n\t\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t\t<text x={40} y={40} fill={\"#f50557\"}>\n\t\t\t\t\t\t\t\t\t\t\t{fixedInput}\n\t\t\t\t\t\t\t\t\t\t</text>\n\t\t\t\t\t\t\t\t\t\t{outputArr.map((d, i) => (\n\t\t\t\t\t\t\t\t\t\t\t<g>\n\t\t\t\t\t\t\t\t\t\t\t\t<rect\n\t\t\t\t\t\t\t\t\t\t\t\t\tx={100 + 100 * i}\n\t\t\t\t\t\t\t\t\t\t\t\t\ty={0}\n\t\t\t\t\t\t\t\t\t\t\t\t\twidth={32}\n\t\t\t\t\t\t\t\t\t\t\t\t\theight={32}\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"lightgrey\"\n\t\t\t\t\t\t\t\t\t\t\t\t></rect>\n\t\t\t\t\t\t\t\t\t\t\t\t<text x={111 + 100 * i} y={22}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{i + 1}\n\t\t\t\t\t\t\t\t\t\t\t\t</text>\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\td={`M${132 + 100 * i} 16, ${\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t200 + 100 * i\n\t\t\t\t\t\t\t\t\t\t\t\t\t} 16`}\n\t\t\t\t\t\t\t\t\t\t\t\t\tstroke={d.color}\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeDasharray=\"25, 4\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ti < 2\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 3 *\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tweights[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ti + 1\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t] +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  0.2\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 1\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t\t\t\t<text\n\t\t\t\t\t\t\t\t\t\t\t\t\tx={140 + 100 * i}\n\t\t\t\t\t\t\t\t\t\t\t\t\ty={40}\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill={d.color}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{d.output}\n\t\t\t\t\t\t\t\t\t\t\t\t</text>\n\t\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Typography variant=\"h5\">\n\t\t\t\t\t\t\t\tneuron1(\n\t\t\t\t\t\t\t\t<Typography color=\"secondary\" variant=\"inline\">\n\t\t\t\t\t\t\t\t\t{fixedInput}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t) = {weights[0]}(\n\t\t\t\t\t\t\t\t<Typography color=\"secondary\" variant=\"inline\">\n\t\t\t\t\t\t\t\t\t{fixedInput}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t) + {biases[0]} ={\" \"}\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tstyle={{ color: \"#8db600\" }}\n\t\t\t\t\t\t\t\t\tvariant=\"inline\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{this.state.output1}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t<Typography variant=\"h5\">\n\t\t\t\t\t\t\t\tneuron2(\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tstyle={{ color: \"#8db600\" }}\n\t\t\t\t\t\t\t\t\tvariant=\"inline\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{this.state.output1}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t) = {weights[1]}(\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tstyle={{ color: \"#8db600\" }}\n\t\t\t\t\t\t\t\t\tvariant=\"inline\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{this.state.output1}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t) + {biases[1]} ={\" \"}\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tstyle={{ color: \"#FF8F00\" }}\n\t\t\t\t\t\t\t\t\tvariant=\"inline\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{this.state.output2}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography variant=\"h5\">\n\t\t\t\t\t\t\t\tneuron3(\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tstyle={{ color: \"#FF8F00\" }}\n\t\t\t\t\t\t\t\t\tvariant=\"inline\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{this.state.output2}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t) = {weights[2]}(\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tstyle={{ color: \"#FF8F00\" }}\n\t\t\t\t\t\t\t\t\tvariant=\"inline\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{this.state.output2}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t) + {biases[2]}={\" \"}\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tstyle={{ color: \"blue\" }}\n\t\t\t\t\t\t\t\t\tvariant=\"inline\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{this.state.output3}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t<CardActions>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\t\t\t\tawait this.initParams();\n\t\t\t\t\t\t\t\t\t//this.compute(this.state.input);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tnew Weights and biases\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</CardActions>\n\t\t\t\t\t</Card>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t);\n\t}\n}\n\nexport default NestedFunction;\n","export default __webpack_public_path__ + \"static/media/scaled.80f83a70.gif\";","export default __webpack_public_path__ + \"static/media/nn.185334eb.svg\";","export default __webpack_public_path__ + \"static/media/forward.94373b2e.svg\";","export default __webpack_public_path__ + \"static/media/backward.0c67cde4.svg\";","import { Box, Card, CardContent, Slider, Button } from \"@material-ui/core\";\nimport React, { Component } from \"react\";\nimport { ScatterPlot } from \"../../exports\";\nimport { $ } from \"./Typeset\";\nimport * as tf from \"@tensorflow/tfjs\";\n\nclass LinearScatter extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tweight: -0.82,\n\t\t\tbias: -0.02,\n\t\t\tloss: 0,\n\t\t\tdomain: [],\n\t\t\trange: [],\n\t\t\tline: [],\n\t\t\tshow: false,\n\t\t};\n\t}\n\t//Define the loss function\n\tloss(y, y_pred, len) {\n\t\tconst outputLoss = tf.tidy(() => {\n\t\t\tconst yTensor = tf.tensor(y);\n\t\t\tconst y_predTensor = tf.tensor(y_pred);\n\t\t\tconst compute =\n\t\t\t\t(1 / (2 * len)) *\n\t\t\t\ttf.sum(tf.pow(tf.sub(y_predTensor, yTensor), 2)).dataSync()[0];\n\t\t\treturn compute;\n\t\t});\n\t\treturn outputLoss;\n\t}\n\tcomputeLine(weight, bias, domain) {\n\t\tconst line = (X) => weight * X + bias;\n\t\tlet output = new Array(domain.length);\n\t\tfor (let i = 0; i < domain.length; i++) {\n\t\t\toutput[i] = line(domain[i]);\n\t\t}\n\t\treturn output;\n\t}\n\tzeros(length) {\n\t\tlet array = new Array(length);\n\t\tfor (let i = 0; i < length; i++) array[i] = 0;\n\t\treturn array;\n\t}\n\trange(start, stop, increment) {\n\t\tlet array = [];\n\t\tfor (let i = start; i <= stop; i += increment) array.push(i);\n\t\treturn array;\n\t}\n\tdataGenerator() {\n\t\tconst initDomain = this.range(-1, 1, 0.1);\n\t\tconst initRange = this.computeLine(0.65, -0.3, initDomain);\n\t\tconst initLine = this.computeLine(\n\t\t\tthis.state.weight,\n\t\t\tthis.state.bias,\n\t\t\tinitDomain\n\t\t);\n\t\tconst loss = this.loss(initRange, initLine, initRange.length);\n\t\tthis.setState({\n\t\t\tdomain: initDomain,\n\t\t\trange: initRange,\n\t\t\tline: initLine,\n\t\t\tloss,\n\t\t});\n\t}\n\tcomponentDidMount() {\n\t\tthis.dataGenerator();\n\t}\n\trender() {\n\t\tconst width = 400;\n\t\tconst { domain, range, bias, weight, line, loss, show } = this.state;\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\">\n\t\t\t\t<Box style={{ filter: `blur(${show ? 0 : 25}px)` }}>\n\t\t\t\t\t<ScatterPlot\n\t\t\t\t\t\twidth={width}\n\t\t\t\t\t\theight={width}\n\t\t\t\t\t\tpadding={0}\n\t\t\t\t\t\tstart={-1}\n\t\t\t\t\t\tstop={1}\n\t\t\t\t\t\tX={domain}\n\t\t\t\t\t\ty={range}\n\t\t\t\t\t\tyhat={line}\n\t\t\t\t\t\tid={69}\n\t\t\t\t\t\tselect={-1}\n\t\t\t\t\t\tduration={0}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\n\t\t\t\t<Box marginLeft={7}>\n\t\t\t\t\t<Card variant=\"outlined\">\n\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t<h2>Manual Best Fit</h2>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\tManually tune{\" \"}\n\t\t\t\t\t\t\t\t<em style={{ color: \"#4050B5\" }}>weight</em> and{\" \"}\n\t\t\t\t\t\t\t\t<em style={{ color: \"#F50257\" }}>bias</em> and\n\t\t\t\t\t\t\t\ttry to reach a{\" \"}\n\t\t\t\t\t\t\t\t<em style={{ color: \"red\" }}>loss</em> of 0\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\t\tvalue={weight}\n\t\t\t\t\t\t\t\tonChange={(e, n) => {\n\t\t\t\t\t\t\t\t\tconst newLine = this.computeLine(\n\t\t\t\t\t\t\t\t\t\tweight,\n\t\t\t\t\t\t\t\t\t\tbias,\n\t\t\t\t\t\t\t\t\t\tdomain\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tconst loss = this.loss(\n\t\t\t\t\t\t\t\t\t\trange,\n\t\t\t\t\t\t\t\t\t\tnewLine,\n\t\t\t\t\t\t\t\t\t\trange.length\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\tweight: n,\n\t\t\t\t\t\t\t\t\t\tline: newLine,\n\t\t\t\t\t\t\t\t\t\tloss,\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tmin={-1}\n\t\t\t\t\t\t\t\tstep={0.01}\n\t\t\t\t\t\t\t\tmax={1}\n\t\t\t\t\t\t\t\tvalueLabelDisplay=\"auto\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t></Slider>\n\t\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\t\tvalue={bias}\n\t\t\t\t\t\t\t\tonChange={(e, n) => {\n\t\t\t\t\t\t\t\t\tconst newLine = this.computeLine(\n\t\t\t\t\t\t\t\t\t\tweight,\n\t\t\t\t\t\t\t\t\t\tbias,\n\t\t\t\t\t\t\t\t\t\tdomain\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tconst loss = this.loss(\n\t\t\t\t\t\t\t\t\t\trange,\n\t\t\t\t\t\t\t\t\t\tnewLine,\n\t\t\t\t\t\t\t\t\t\trange.length\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\tbias: n,\n\t\t\t\t\t\t\t\t\t\tline: newLine,\n\t\t\t\t\t\t\t\t\t\tloss,\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tmin={-1}\n\t\t\t\t\t\t\t\tstep={0.01}\n\t\t\t\t\t\t\t\tvalueLabelDisplay=\"auto\"\n\t\t\t\t\t\t\t\tmax={1}\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t></Slider>\n\n\t\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t\t{$(\"\\\\text{neuron}(x) = \")}{\" \"}\n\t\t\t\t\t\t\t\t<em style={{ color: \"#4050B5\" }}>\n\t\t\t\t\t\t\t\t\t{$(`${weight}`)}\n\t\t\t\t\t\t\t\t</em>\n\t\t\t\t\t\t\t\t{$(\"x + \")}{\" \"}\n\t\t\t\t\t\t\t\t<em style={{ color: \"#F50257\" }}>\n\t\t\t\t\t\t\t\t\t{$(`${bias}`)}\n\t\t\t\t\t\t\t\t</em>\n\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t\tMSE loss:{\" \"}\n\t\t\t\t\t\t\t\t{$(\n\t\t\t\t\t\t\t\t\t`\\\\frac{1}{J}\\\\sum_{i = 0}^J (\\\\hat{y} - y)^2 =`\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<em style={{ color: \"darkred\" }}>\n\t\t\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t\t\t{$(`${loss.toFixed(7)}`)}\n\t\t\t\t\t\t\t\t</em>\n\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tbackgroundColor: \"#155676\",\n\t\t\t\t\t\t\t\t\tcolor: \"white\",\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tthis.setState({ show: !this.state.show });\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tClick to Reveal Graph\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t</Card>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t);\n\t}\n}\n\nexport default LinearScatter;\n","import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\nclass ContourLoss extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\twidth: 400,\n\t\t\theight: 400,\n\t\t};\n\t}\n\tasync componentDidMount() {\n\t\tconst { width, height } = await this.state;\n\t\tconst svg = d3.select(\"#divContour\").select(\"#contour\");\n\t\tconst { data, darkness } = await this.props;\n\t\tlet n = width,\n\t\t\tm = height,\n\t\t\tvalues = new Array(n * m);\n\n\t\tfor (let j = 0.5, k = 0; j < m; ++j) {\n\t\t\tfor (let i = 0.5; i < n; ++i, ++k) {\n\t\t\t\tvalues[k] = loss((i / n) * 10 - 5, (j / m) * 20);\n\t\t\t}\n\t\t}\n\n\t\tfunction loss(m, b) {\n\t\t\tlet x = data.X,\n\t\t\t\ty = data.y;\n\t\t\tlet summed = 0;\n\t\t\tfor (let i = 0; i < data.X.length; i++) {\n\t\t\t\tsummed += Math.pow(m * x[i] + b - y[i], 2);\n\t\t\t}\n\t\t\treturn summed / (2 * x.length);\n\t\t}\n\t\tlet thresholds = await d3\n\t\t\t.range(darkness, 20, 1)\n\t\t\t.map((i) => Math.pow(2, i));\n\t\tlet color = d3.scaleSequentialLog(\n\t\t\td3.extent(thresholds),\n\t\t\td3.interpolateMagma\n\t\t);\n\t\tconst contours = d3.contours().size([n, m]).thresholds(thresholds)(\n\t\t\tvalues\n\t\t);\n\t\tsvg.append(\"g\")\n\t\t\t.attr(\"fill\", \"none\")\n\t\t\t.selectAll(\"path\")\n\t\t\t.data(contours)\n\t\t\t.join(\"path\")\n\t\t\t.attr(\"fill\", (d) => color(d.value))\n\t\t\t.attr(\"d\", d3.geoPath());\n\n\t\tsvg.append(\"circle\")\n\t\t\t.attr(\"cx\", width / 2)\n\t\t\t.attr(\"cy\", 0)\n\t\t\t.attr(\"r\", 5)\n\t\t\t.style(\"fill\", \"none\")\n\t\t\t.style(\"stoke\", \"none\");\n\t}\n\tcomponentDidUpdate() {\n\t\tconst { width, height } = this.state;\n\t\tconst { loss, ms, m, b } = this.props;\n\t\tconst svg = d3.select(\"#divContour\").select(\"#contour\");\n\t\tif (loss == null) {\n\t\t\tsvg.select(\"circle\")\n\t\t\t\t.attr(\"cx\", width / 2)\n\t\t\t\t.attr(\"cy\", 0)\n\t\t\t\t.attr(\"r\", 5)\n\t\t\t\t.style(\"fill\", \"none\")\n\t\t\t\t.style(\"stroke\", \"none\");\n\t\t\treturn;\n\t\t}\n\t\tif (loss < 1000) {\n\t\t\tsvg.select(\"circle\")\n\t\t\t\t.transition()\n\t\t\t\t.duration(200 - ms)\n\t\t\t\t.attr(\"cx\", width / 2 + (m / 10) * width)\n\t\t\t\t.attr(\"cy\", (b / 20) * height)\n\t\t\t\t.attr(\"r\", loss * 2 + 5)\n\t\t\t\t.style(\"fill\", \"red\")\n\t\t\t\t.style(\"opacity\", \"0.5\");\n\t\t}\n\t}\n\trender() {\n\t\tconst { width, height } = this.state;\n\t\treturn (\n\t\t\t<div id=\"divContour\">\n\t\t\t\t<svg style={{ width, height }} id=\"contour\"></svg>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default ContourLoss;\n","import React, { Component } from \"react\";\nimport ContourLoss from \"./ContourLoss\";\nimport { ScatterPlot } from \"../../exports\";\nimport { $$, $ } from \"./Typeset\";\n\nimport {\n\tFab,\n\tIconButton,\n\tBox,\n\tCard,\n\tCardContent,\n\tTypography,\n} from \"@material-ui/core\";\nimport { PlayArrow, Stop, Replay, SlowMotionVideo } from \"@material-ui/icons\";\nimport * as tf from \"@tensorflow/tfjs\";\n\nclass SubTool extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tyhat: [],\n\t\t\tdarkness: -8,\n\t\t\tplayButton: true,\n\t\t\tlinreg: {\n\t\t\t\tmeanSquaredError: 0,\n\t\t\t\trsquared: null,\n\t\t\t\tdata: {\n\t\t\t\t\tX: [],\n\t\t\t\t\ty: [],\n\t\t\t\t},\n\t\t\t\thyperparams: {\n\t\t\t\t\tlearningRate: 0.03,\n\t\t\t\t\tepochs: 0,\n\t\t\t\t\tloss: null,\n\t\t\t\t\tspeed: 200,\n\t\t\t\t},\n\t\t\t\ttunableparams: {\n\t\t\t\t\tm: 0,\n\t\t\t\t\tb: 0,\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\t\tthis.generateData = this.generateData.bind(this);\n\t\tthis.linearRegression = this.linearRegression.bind(this);\n\t\tthis.a = this.a.bind(this);\n\t\tthis.handleSlider = this.handleSlider.bind(this);\n\t\tthis.reset = this.reset.bind(this);\n\t}\n\n\treset() {\n\t\tthis.generateData();\n\t\tthis.setState({\n\t\t\t...this.state,\n\t\t\tplayButton: true,\n\t\t\tlinreg: {\n\t\t\t\t...this.state.linreg,\n\t\t\t\trsquared: null,\n\t\t\t\thyperparams: {\n\t\t\t\t\t...this.state.linreg.hyperparams,\n\t\t\t\t\tepochs: 0,\n\t\t\t\t\tloss: null,\n\t\t\t\t},\n\t\t\t\ttunableparams: {\n\t\t\t\t\tm: 0,\n\t\t\t\t\tb: 0,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t}\n\tgenerateData() {\n\t\ttf.tidy(() => {\n\t\t\tconst yhat = [0, 0, 0, 0, 0, 0];\n\t\t\tconst X = [0, 1, 2, 3, 4, 5];\n\t\t\tconst y = [5, 4, 3, 2, 1, 0];\n\t\t\tconst yTensor = tf.tensor(y);\n\n\t\t\tconst mean = tf.mean(yTensor).dataSync()[0];\n\t\t\tconst meanSquaredError =\n\t\t\t\t(1 / (X.length * 2)) *\n\t\t\t\ttf.sum(tf.pow(tf.sub(mean, yTensor), 2)).dataSync()[0];\n\n\t\t\tthis.setState({\n\t\t\t\t...this.state,\n\t\t\t\tyhat,\n\t\t\t\tlinreg: {\n\t\t\t\t\t...this.state.linreg,\n\t\t\t\t\tmeanSquaredError,\n\t\t\t\t\tdata: { X, y },\n\t\t\t\t},\n\t\t\t});\n\t\t\treturn undefined;\n\t\t});\n\t}\n\n\tlinearRegression() {\n\t\ttf.tidy(() => {\n\t\t\tif (this.state.linreg.hyperparams.epochs > 1000) {\n\t\t\t\tthis.setState({ playButton: !this.state.playButton });\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//hypothesis function\n\t\t\tlet { m, b } = this.state.linreg.tunableparams;\n\t\t\tlet { learningRate } = this.state.linreg.hyperparams;\n\t\t\tconst { X, y } = this.state.linreg.data;\n\t\t\tconst XTensor = tf.tensor(X);\n\t\t\tconst yTensor = tf.tensor(y);\n\n\t\t\tlet yPred = h(XTensor, m, b);\n\t\t\tlet len = XTensor.shape[0];\n\t\t\tfunction h(X, m, b) {\n\t\t\t\treturn tf.add(tf.mul(X, m), b);\n\t\t\t}\n\t\t\t//Define the loss function\n\t\t\tfunction loss(y, y_pred) {\n\t\t\t\treturn (\n\t\t\t\t\t(1 / (2 * len)) *\n\t\t\t\t\ttf.sum(tf.pow(tf.sub(y_pred, y), 2)).dataSync()[0]\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t//then compute the gradient\n\t\t\tconst dlossdm =\n\t\t\t\t(1 / len) *\n\t\t\t\ttf.sum(tf.mul(tf.sub(yPred, yTensor), XTensor)).dataSync()[0];\n\t\t\tconst dlossdb =\n\t\t\t\t(1 / len) * tf.sum(tf.sub(yPred, yTensor)).dataSync()[0];\n\t\t\tconst lossValue = loss(yTensor, yPred);\n\n\t\t\t//gradient descent by updating the m and b\n\t\t\tm += -learningRate * dlossdm;\n\t\t\tb += -learningRate * dlossdb;\n\t\t\tconst rsquared = 1 - lossValue / this.state.linreg.meanSquaredError;\n\t\t\tconst epochs = this.state.linreg.hyperparams.epochs + 1;\n\t\t\tconst yhat = Array.from(yPred.dataSync());\n\t\t\tthis.setState({\n\t\t\t\t...this.state,\n\t\t\t\tyhat,\n\t\t\t\tlinreg: {\n\t\t\t\t\t...this.state.linreg,\n\t\t\t\t\trsquared,\n\t\t\t\t\ttunableparams: { m, b },\n\t\t\t\t\thyperparams: {\n\t\t\t\t\t\t...this.state.linreg.hyperparams,\n\t\t\t\t\t\tepochs: epochs,\n\t\t\t\t\t\tloss: lossValue,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\t\t\treturn undefined;\n\t\t});\n\t}\n\tasync a() {\n\t\tconst timer = (ms) => new Promise((res) => setTimeout(res, ms));\n\t\tconst upperBounds = 200;\n\t\twhile (true) {\n\t\t\tconst { speed } = this.state.linreg.hyperparams;\n\t\t\tconst changeSpeed = upperBounds - speed;\n\t\t\tawait this.linearRegression();\n\t\t\t//await this.forceUpdate();\n\t\t\tawait timer(changeSpeed);\n\t\t\tif (this.state.playButton === true) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\thandleSlider(event, value) {\n\t\tthis.setState({\n\t\t\tlinreg: {\n\t\t\t\t...this.state.linreg,\n\t\t\t\thyperparams: {\n\t\t\t\t\t...this.state.linreg.hyperparams,\n\t\t\t\t\tspeed: value,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t}\n\n\tasync componentDidMount() {\n\t\tawait this.generateData();\n\t}\n\n\trender() {\n\t\tconst { m, b } = this.state.linreg.tunableparams;\n\t\tconst { loss, speed, epochs } = this.state.linreg.hyperparams;\n\t\tconst { rsquared, data } = this.state.linreg;\n\t\tconst marginButtons = 3;\n\t\tconst nullColor = (val) => (val === null ? \"#dce0dd\" : \"black\");\n\t\tconst nullNumber = (num, precision) =>\n\t\t\tnum === null ? num : num.toPrecision(precision);\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" marginTop={2}>\n\t\t\t\t\t<Box marginTop={10} marginRight={10}>\n\t\t\t\t\t\t<ScatterPlot\n\t\t\t\t\t\t\twidth={400}\n\t\t\t\t\t\t\theight={400}\n\t\t\t\t\t\t\tpadding={0}\n\t\t\t\t\t\t\tstart={0}\n\t\t\t\t\t\t\tstop={5}\n\t\t\t\t\t\t\tX={data.X}\n\t\t\t\t\t\t\ty={data.y}\n\t\t\t\t\t\t\tyhat={this.state.yhat}\n\t\t\t\t\t\t\tid={420}\n\t\t\t\t\t\t\tselect={-1}\n\t\t\t\t\t\t\tduration={0}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Card variant=\"outlined\">\n\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t<h2>Auto Best Fit</h2>\n\t\t\t\t\t\t\t<p>forward, backward, update per EPOCH</p>\n\t\t\t\t\t\t\t<Typography variant=\"h4\" component=\"h2\">\n\t\t\t\t\t\t\t\tEPOCH: {epochs}\n\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\tvariant=\"h6\"\n\t\t\t\t\t\t\t\tcomponent=\"h2\"\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tcolor: nullColor(loss),\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{` loss = ${nullNumber(loss, 10)}`}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<IconButton onClick={this.reset}>\n\t\t\t\t\t\t\t\t<Replay />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t<Fab\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tbackground: this.state.playButton\n\t\t\t\t\t\t\t\t\t\t? \"#175676\"\n\t\t\t\t\t\t\t\t\t\t: \"#D62839\",\n\t\t\t\t\t\t\t\t\tcolor: \"white\",\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\t\t\t\tawait this.setState({\n\t\t\t\t\t\t\t\t\t\tplayButton: !this.state.playButton,\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tawait this.a();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tdisableTouchRipple\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{this.state.playButton ? (\n\t\t\t\t\t\t\t\t\t<PlayArrow />\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<Stop />\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Fab>\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tcolor: speed === 200 ? \"grey\" : \"#FFC006\",\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\tlinreg: {\n\t\t\t\t\t\t\t\t\t\t\t...this.state.linreg,\n\t\t\t\t\t\t\t\t\t\t\thyperparams: {\n\t\t\t\t\t\t\t\t\t\t\t\t...this.state.linreg\n\t\t\t\t\t\t\t\t\t\t\t\t\t.hyperparams,\n\t\t\t\t\t\t\t\t\t\t\t\tspeed:\n\t\t\t\t\t\t\t\t\t\t\t\t\tspeed === 200 ? 120 : 200,\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<SlowMotionVideo />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</CardContent>\n\n\t\t\t\t\t\t<ContourLoss\n\t\t\t\t\t\t\tms={speed}\n\t\t\t\t\t\t\tdata={data}\n\t\t\t\t\t\t\tm={isFinite(m) ? m : 0}\n\t\t\t\t\t\t\tb={isFinite(b) ? b : 0}\n\t\t\t\t\t\t\tloss={loss}\n\t\t\t\t\t\t\tdarkness={this.state.darkness}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Card>\n\t\t\t\t</Box>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default SubTool;\n","export default __webpack_public_path__ + \"static/media/structMan.d909fd24.svg\";","export default __webpack_public_path__ + \"static/media/structArt.5830dcf2.svg\";","export default __webpack_public_path__ + \"static/media/structNN.e936abf1.svg\";","export default __webpack_public_path__ + \"static/media/structLin.936d1ee7.svg\";","import React from \"react\";\nimport { scroller } from \"react-scroll\";\nimport { Box, Button } from \"@material-ui/core\";\nimport structManSVG from \"./assets/structMan.svg\";\nimport structArtSVG from \"./assets/structArt.svg\";\nimport structNNSVG from \"./assets/structNN.svg\";\nimport structLinSVG from \"./assets/structLin.svg\";\n\nexport const Nav = () => (\n\t<Box display=\"flex\" justifyContent=\"center\">\n\t\t<Box>\n\t\t\t<Button\n\t\t\t\tonClick={() => {\n\t\t\t\t\tscroller.scrollTo(\"article\", {\n\t\t\t\t\t\tduration: 1500,\n\t\t\t\t\t\tdelay: 100,\n\t\t\t\t\t\tsmooth: true,\n\t\t\t\t\t});\n\t\t\t\t}}\n\t\t\t\tcolor=\"secondary\"\n\t\t\t>\n\t\t\t\t{\" \"}\n\t\t\t\t<img src={structArtSVG} />\n\t\t\t</Button>\n\n\t\t\t<Box>\n\t\t\t\t<Button\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tscroller.scrollTo(\"structMan\", {\n\t\t\t\t\t\t\tduration: 1500,\n\t\t\t\t\t\t\tdelay: 100,\n\t\t\t\t\t\t\tsmooth: true,\n\t\t\t\t\t\t\toffset: -100,\n\t\t\t\t\t\t});\n\t\t\t\t\t}}\n\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t>\n\t\t\t\t\t<img src={structManSVG} />{\" \"}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tscroller.scrollTo(\"structLin\", {\n\t\t\t\t\t\t\tduration: 1500,\n\t\t\t\t\t\t\tdelay: 100,\n\t\t\t\t\t\t\tsmooth: true,\n\t\t\t\t\t\t\toffset: -100,\n\t\t\t\t\t\t});\n\t\t\t\t\t}}\n\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t>\n\t\t\t\t\t{\" \"}\n\t\t\t\t\t<img src={structLinSVG} />\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t\t<Box>\n\t\t\t\t<Button\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tscroller.scrollTo(\"mainTool\", {\n\t\t\t\t\t\t\tduration: 1500,\n\t\t\t\t\t\t\tdelay: 100,\n\t\t\t\t\t\t\tsmooth: true,\n\t\t\t\t\t\t\toffset: -100,\n\t\t\t\t\t\t});\n\t\t\t\t\t}}\n\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t>\n\t\t\t\t\t<img src={structNNSVG} />\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t</Box>\n\t</Box>\n);\n","import React from \"react\";\nimport { $, $$ } from \"./Typeset\";\nimport LinearFunction from \"./LinearFunction\";\nimport NestedFunction from \"./NestedFunction\";\nimport { Box, Button, Card, CardContent, Typography } from \"@material-ui/core\";\nimport { Help } from \"@material-ui/icons\";\nimport nnSVG from \"./assets/nn.svg\";\nimport scaledGIF from \"./assets/scaled.gif\";\nimport forwardSVG from \"./assets/forward.svg\";\nimport backwardSVG from \"./assets/backward.svg\";\nimport LinearScatter from \"./LinearScatter\";\nimport SubTool from \"./SubTool\";\nimport { Nav } from \"./Nav\";\nimport { Element } from \"react-scroll\";\nconst Explanation = () => {\n\tconst link = (href, content) => (\n\t\t<Button\n\t\t\tsize=\"small\"\n\t\t\tcolor=\"primary\"\n\t\t\thref={href}\n\t\t\ttarget=\"_blank\"\n\t\t\trel=\"noopener noreferrer\"\n\t\t>\n\t\t\t{content}\n\t\t</Button>\n\t);\n\n\tconst colab = (href) => (\n\t\t<a href={href}>\n\t\t\t<img\n\t\t\t\tsrc=\"https://colab.research.google.com/assets/colab-badge.svg\"\n\t\t\t\talt=\"Open In Colab\"\n\t\t\t/>\n\t\t</a>\n\t);\n\tconst topic = (title) => (\n\t\t<Typography variant=\"h3\">\n\t\t\t<b>{title}</b>\n\t\t</Typography>\n\t);\n\tconst subtopic = (title) => <Typography variant=\"h4\">{title}</Typography>;\n\tconst paper = (\n\t\t<div>\n\t\t\t<br />\n\t\t\t{topic(\"Introduction\")}\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\tMost people abstract the idea of backpropagation when learning\n\t\t\t\tneural networks because it is by far the most notation heavy\n\t\t\t\tpart. The goal of this article is to marry the notation with\n\t\t\t\tsome interactive tools to better understand a very important\n\t\t\t\tidea.\n\t\t\t</Typography>\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\t<b>\n\t\t\t\t\tIf you want to skip ahead, click on a tool below. Otherwise,\n\t\t\t\t\tclick the \"Article\" section, or scroll to the start of the\n\t\t\t\t\tarticle.\n\t\t\t\t</b>\n\t\t\t</Typography>\n\t\t\t<Nav />\n\t\t\t<Element name=\"article\">\n\t\t\t\t{topic(\"Backpropagation on one Neuron\")}\n\t\t\t</Element>\n\t\t\t<br />\n\t\t\t{subtopic(\"Getting Started\")}\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\tOur goal in a neural network is to lower whatever loss function\n\t\t\t\twe define. For this article, we will be performing regression\n\t\t\t\tand using mean squared error loss (MSE).\n\t\t\t</Typography>\n\t\t\t{$$(\"\\\\text{MSE} = \\\\frac{1}{J}\\\\sum_{i=0}^{J}(\\\\hat{y} - y)^2\")}\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\tBefore hitting the calculus, try to lower loss the best you can\n\t\t\t\tby adjusting the weight and bias on this one neuron network.\n\t\t\t\tWhen you feel like you&rsquo;ve lowered the loss enough (or need\n\t\t\t\tsome help), reveal the graph.\n\t\t\t</Typography>\n\t\t\t<br />\n\t\t\t<Element name=\"structMan\">\n\t\t\t\t<LinearScatter />\n\t\t\t</Element>\n\t\t\t<br />\n\t\t\t{subtopic(\"Explanation\")}\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\tThe intuition from this one scenario essentially explains all of\n\t\t\t\tbackpropagation and optimization. It is really that simple!\n\t\t\t</Typography>\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\tWhen you start to change the weight, you observe where the loss\n\t\t\t\tmoves, if it moves up, you probably move the weight the other\n\t\t\t\tdirection to lower the loss. This, without the math, is the main\n\t\t\t\tprinciple behind optimizing a nerual network.\n\t\t\t</Typography>\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\tThe change you observed from the ouput of the loss function is\n\t\t\t\tthe rate of change. For a more accurate instantaneous rate of\n\t\t\t\tchange we essentially do the slope formula but have the change\n\t\t\t\tthe second point approach 0. For Example,\n\t\t\t\t{$$(\n\t\t\t\t\t\"\\\\lim_{h \\\\to 0} \\\\frac{f(x + h) - f(x)}{h} = \\\\frac{df}{dx}\"\n\t\t\t\t)}\n\t\t\t</Typography>\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\tWhere {$(\"\\\\frac{df}{dx}\")} is the derivative of {$(\"f\")} with\n\t\t\t\trespect to {$(\"x\")}, or in plain english: how the output of{\" \"}\n\t\t\t\t{$(\"f\")} is affected by the variable {$(\"x\")}. In the context of\n\t\t\t\tour one neuron network, if I represent weight as {$(\"w_0\")} bias\n\t\t\t\tas {$(\"b\")}, the neuron as {$(\"n\")} and mean squared error loss{\" \"}\n\t\t\t\t{$(\"\\\\text{MSE}\")}\n\t\t\t\t{$$(\n\t\t\t\t\t\"\\\\lim_{h \\\\to 0} \\\\frac{\\\\text{MSE}(n(w_0 + h,b)) - \\\\text{MSE}(n(w_0,b))}{h} = \\\\frac{\\\\partial \\\\text{MSE}}{\\\\partial w_0}\"\n\t\t\t\t)}\n\t\t\t\t{$$(\n\t\t\t\t\t\"\\\\lim_{h \\\\to 0} \\\\frac{\\\\text{MSE}(n(w_0,b+h)) - \\\\text{MSE}(n(w_0,b))}{h} = \\\\frac{\\\\partial \\\\text{MSE}}{\\\\partial b}\"\n\t\t\t\t)}\n\t\t\t</Typography>\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\tWhere {$(\"\\\\frac{\\\\partial \\\\text{MSE}}{\\\\partial w_0}\")} is the\n\t\t\t\tpartial derivative of {$(\"\\\\text{MSE}\")} with respect to{\" \"}\n\t\t\t\t{$(\"w_0\")} or in plain english: how the output of{\" \"}\n\t\t\t\t{$(\"\\\\text{MSE}\")} is affected by the variable {$(\"w_0\")}.\n\t\t\t</Typography>\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\tWhere {$(\"\\\\frac{\\\\partial \\\\text{MSE}}{\\\\partial b}\")} is the\n\t\t\t\tpartial derivative of {$(\"\\\\text{MSE}\")} with respect to{\" \"}\n\t\t\t\t{$(\"b\")} or in plain english: how the output of{\" \"}\n\t\t\t\t{$(\"\\\\text{MSE}\")} is affected by the variable {$(\"b\")}.\n\t\t\t</Typography>\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\tNow we have a way to compute how each parameter affects the\n\t\t\t\toutput loss {$(\"\\\\text{MSE}\")}. Which is also called the\n\t\t\t\tgradient of {$(\"\\\\text{MSE}\")}.And can use the intuiton we\n\t\t\t\tgained from the interactive exercise before, and use the partial\n\t\t\t\tderivatives of loss with respect to each parameter to tune those\n\t\t\t\tparamters into lowering the loss.\n\t\t\t</Typography>\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\tBackpropagation is the term we use to describe the calculuating\n\t\t\t\tof the partial derivatives of with respect to each paramter\n\t\t\t\tbecause of the direction we travel to compute the derivatives.\n\t\t\t\tIn essence, we first need to forward propagate: push the input\n\t\t\t\tthrough the network, get an output and loss. We then can go\n\t\t\t\tbackwards and compute how each value in the forward pass\n\t\t\t\taffected the loss using the chain rule in calculus. The chain\n\t\t\t\trule is very intutive and essentially takes into account how\n\t\t\t\tnested function affect each other.\n\t\t\t\t{$$(\n\t\t\t\t\t\"\\\\frac{\\\\partial \\\\text{MSE}}{\\\\partial w_0} = \\\\frac{\\\\partial \\\\text{MSE}}{\\\\partial n(w_0,b)} \\\\cdot \\\\frac{\\\\partial n(w_0,b)}{\\\\partial w_0} \"\n\t\t\t\t)}\n\t\t\t\t{$$(\n\t\t\t\t\t\"\\\\frac{\\\\partial \\\\text{MSE}}{\\\\partial b} = \\\\frac{\\\\partial \\\\text{MSE}}{\\\\partial n(w_0,b)} \\\\cdot \\\\frac{\\\\partial n(w_0,b)}{\\\\partial b} \"\n\t\t\t\t)}\n\t\t\t</Typography>\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\tWhere how {$(\"\\\\frac{\\\\partial \\\\text{MSE}}{\\\\partial w_0}\")}{\" \"}\n\t\t\t\t(how {$(\"w_0\")} affects loss) is broken up into how the input of\n\t\t\t\tloss (the output of the neuron) affects loss compounded with how\n\t\t\t\tthe weight affects the output of the neuron. Essnetially we are\n\t\t\t\tchaining rates of change due to the nested nature of the\n\t\t\t\tfunction.\n\t\t\t</Typography>\n\t\t\t<br />\n\t\t\t{subtopic(\"Concrete Example\")}\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\tLet's go through a concrete example of a forward and backward\n\t\t\t\tpass. We will define the input as {$(\"x_0 = 2.1\")}, the weight\n\t\t\t\tas {$(\"w_0 = 1\")}, and the bias as {$(\"b = 0\")}{\" \"}\n\t\t\t</Typography>\n\t\t\t<img width=\"100%\" src={forwardSVG} />\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\tNow we can go backwards and compute partial derivatives with the\n\t\t\t\tchain rule to get the gradient {$(\"\\\\nabla \\\\text{loss}\")}\n\t\t\t</Typography>\n\t\t\t<img width=\"100%\" src={backwardSVG} />\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\t{$$(\"\\\\frac{\\\\partial \\\\text{loss}}{\\\\partial w_0} = -7.98\")}\n\t\t\t\t{$$(\"\\\\frac{\\\\partial \\\\text{loss}}{\\\\partial b} = -3.8\")}\n\t\t\t</Typography>\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\tReassign the parameters to opposite gradient to descend loss, in\n\t\t\t\tthis case learning rate is {$(\"\\\\text{lr} = 0.01\")}\n\t\t\t\t{$$(\n\t\t\t\t\t\"w_0 := w_0 - \\\\text{lr} \\\\cdot \\\\frac{\\\\partial \\\\text{loss}}{\\\\partial w_0} = (1) - (0.01) \\\\cdot (-7.98) = 1.0798\"\n\t\t\t\t)}\n\t\t\t\t{$$(\n\t\t\t\t\t\"b := b - \\\\text{lr} \\\\cdot \\\\frac{\\\\partial \\\\text{loss}}{\\\\partial b} = (0) - (0.01) \\\\cdot (-3.8) = 0.038 \"\n\t\t\t\t)}\n\t\t\t\tRe calculate forward pass with new weight and bias\n\t\t\t\t{$$(\"\\\\text{loss} = ((1.0798)(2.1) + 0.038) - 4)^2 = 2.87\")}\n\t\t\t</Typography>\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\tTotal loss savings of {$(\"3.61 - 2.87 = 0.74\")}\n\t\t\t</Typography>\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\tTo see this in action over many epochs try out playing the next\n\t\t\t\tcomponent which computes forward, backward and update per epoch.\n\t\t\t\tAutomatically.\n\t\t\t</Typography>\n\t\t\t<Element name=\"structLin\">\n\t\t\t\t<SubTool />\n\t\t\t</Element>\n\t\t\tNow you understand how the logic and intuition of backpropagation\n\t\t\tand how neural networks learn, but what about neural networks with\n\t\t\tmore neurons?\n\t\t\t<br />\n\t\t\t{topic(\"Scaling up Neurons and Layers\")}\n\t\t\t{subtopic(\"The Changes\")}\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\tScaling up to more neurons and layers. Doing backward\n\t\t\t\tpropagation on one neuron is not difficult and can produce great\n\t\t\t\tresults when fitting linear data. But as we want to process more\n\t\t\t\tnon linear data, we have to increase complexity to vary the\n\t\t\t\toutput and create more parameters that we can tune. We do this\n\t\t\t\tby adding layers of neurons where all the outputs of one layer\n\t\t\t\tare the inputs to the next, essentially a very nested function\n\t\t\t\twhere inputs are distributed to all functions. This is the\n\t\t\t\tsimple intuition in scaling up to more neurons and more layers.\n\t\t\t\tOther than this we also use an activation function, ReLU in our\n\t\t\t\tcase, to introduce non linearity to the linear nature of each\n\t\t\t\tneuron while also introducing a point of deactivation. This\n\t\t\t\tpoint of deactivation is simply 0, which removes the impact of\n\t\t\t\tthat neuron on updating parameters allowing for certain neurons\n\t\t\t\tto fire while others don't change at all depending on input.\n\t\t\t</Typography>\n\t\t\t<br />\n\t\t\t{subtopic(\"The Process\")}\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\tFirst we define the network, we push our inputs through the\n\t\t\t\tmodel (forward propagation), then we calculate how each\n\t\t\t\tparameter in the network affects the loss (backward\n\t\t\t\tpropagation), then we update the parameters with gradient\n\t\t\t\tdescent. Notice how this is the same process as the one neuron\n\t\t\t\tnetwork. THE PROCESS DOESNT CHANGE. We have to do more backward\n\t\t\t\tcalculations, more chain rule, but that process does not change\n\t\t\t\teither.\n\t\t\t</Typography>\n\t\t\t<img width=\"100%\" src={scaledGIF} />\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\tAbove is an exaple of a forward pass, backward pass and update.\n\t\t\t\tNotice the orange arrows that represent{\" \"}\n\t\t\t\t{$(\n\t\t\t\t\t\"-\\\\frac{\\\\partial \\\\text{activation}}{\\\\partial \\\\text{loss}}\"\n\t\t\t\t)}\n\t\t\t\t, which tells us which direction the activation of neuron should\n\t\t\t\tbe nudged to lower loss.\n\t\t\t</Typography>\n\t\t\t<Typography variant=\"body2\">\n\t\t\t\tIn this training example we use the original definiton of SGD\n\t\t\t\t(stochastic gradient descent) and only use one training example\n\t\t\t\t(batch size 1).\n\t\t\t</Typography>\n\t\t\t<br />\n\t\t\t{topic(\"Conclusion\")}\n\t\t\t{subtopic(\"Closing Statement\")}\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\tBy the end, I hope you gained some degree of intution for how\n\t\t\t\tand why we perform backproagation in neural networks. Now if you\n\t\t\t\tcome into contact with neural networks and things aren't working\n\t\t\t\tout don't simply throw more data at it like many do, instead\n\t\t\t\tthink back to the logic and intuition or the processes that\n\t\t\t\toccur and you be able to solve your problems better and faster.\n\t\t\t</Typography>\n\t\t\t<br />\n\t\t\t{subtopic(\"Seeing things in Action\")}\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\tSince you know how and why backpropagation is performed, cement\n\t\t\t\tthat knowledge by seeing the whole process in action below.\n\t\t\t\tStart by pressing play, then when you are ready press the EPOCH\n\t\t\t\tto see the whole process on the a single Epoch: forward,\n\t\t\t\tbackward, update. And customize the hyperparamters as you see\n\t\t\t\tfit.\n\t\t\t</Typography>\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\t<b>If you need help, click on a </b>\n\t\t\t\t<Help style={{ color: \"#FFA500\" }} />{\" \"}\n\t\t\t\t<b>to reveal extra descriptions</b>\n\t\t\t</Typography>\n\t\t\t<br />\n\t\t</div>\n\t);\n\n\treturn (\n\t\t<Box justifyContent=\"center\" display=\"flex\">\n\t\t\t<Box maxWidth=\"60%\">{paper}</Box>\n\t\t</Box>\n\t);\n};\nexport default Explanation;\n","export default __webpack_public_path__ + \"static/media/controlcenter.3793afef.gif\";","export default __webpack_public_path__ + \"static/media/customization.05bd2f71.gif\";","export default __webpack_public_path__ + \"static/media/nn.984f5d8c.png\";","export default __webpack_public_path__ + \"static/media/scatter.1bf50e5e.gif\";","export default __webpack_public_path__ + \"static/media/key.a1bf5008.svg\";","/* \n\tDonny Bertucci: @xnought\n\tSummary: \n\t\tThis is the class definiton and implmentation of Neuron for Nerual Network\n*/\nexport class Neuron {\n\tconstructor(weights, bias) {\n\t\tthis.weights = weights;\n\t\tthis.bias = bias;\n\t}\n\t/* Next functions are just helper functions for the operations */\n\tmult(array1, array2) {\n\t\treturn array1.map((item, i) => {\n\t\t\treturn item * array2[i];\n\t\t});\n\t}\n\tdMult(dvalues, oppositeParameter) {\n\t\treturn this.mult(dvalues, oppositeParameter);\n\t}\n\tsum(array) {\n\t\treturn array.reduce((a, b) => a + b);\n\t}\n\tdSum(dvalue, numInputs) {\n\t\tlet dSumArray = [];\n\t\tfor (let i = 0; i < numInputs; i++) {\n\t\t\tdSumArray.push(dvalue);\n\t\t}\n\t\treturn dSumArray;\n\t}\n\tlinear(input) {\n\t\treturn input;\n\t}\n\n\t/* \n\t\tPurpose: feed forward of single neuron\n\t\t@param: inputs, activation\n\t\t@store inputs, multStep, sumStep, actStep, output\n\t*/\n\tforward(inputs, activation) {\n\t\t/* Destructure the class values */\n\t\tconst { weights, bias } = this;\n\t\tconst { mult, sum } = this;\n\t\t/* propogate forward */\n\t\tconst multStep = mult(inputs, weights);\n\t\tconst sumStep = sum(multStep) + bias;\n\t\tconst actStep = activation(sumStep);\n\n\t\t/* Save values */\n\t\tthis.inputs = inputs;\n\t\tthis.multStep = multStep;\n\t\tthis.sumStep = sumStep;\n\t\tthis.actStep = actStep;\n\t\tthis.output = actStep;\n\t}\n\n\t/* \n\t\tPurpose: feed backward of single neuron\n\t\t@param: dvalue, activation\n\t\t@store inputs, multStep, sumStep, actStep, output\n\t*/\n\tbackward(dvalue, activation) {\n\t\t/* Destructure the class values */\n\t\tconst { inputs, weights, actStep } = this;\n\t\tconst { dSum, mult, sum } = this;\n\t\t/* propgate backwards */\n\t\tconst dActStep = activation(actStep) * dvalue;\n\t\tconst dSumStep = dSum(dActStep, inputs.length);\n\t\tconst dBias = dActStep;\n\t\tconst dWeights = mult(dSumStep, inputs);\n\t\tconst dInputs = mult(dSumStep, weights);\n\t\tconst dInputsSum = sum(dInputs);\n\n\t\t/* Save values */\n\t\tthis.dvalue = dvalue;\n\t\tthis.dActStep = dActStep;\n\t\tthis.dSumStep = dSumStep;\n\t\tthis.dBias = dBias;\n\t\tthis.dWeights = dWeights;\n\t\tthis.dInputs = dInputs;\n\t\tthis.dInputsSum = dInputsSum;\n\t}\n}\n","/* \n\tDonny Bertucci: @xnought\n\tSummary: \n\t\texports the losses to be used for the neural network\n\t\t\n*/\nexport class MeanSquaredErrorLoss {\n\t/* \n\t\tPurpose: feed forward of the nerual network\n\t\t@param yhat, y\n\t\t@stores y, yhat, subStep, squareStep, output\n\t*/\n\tforward(yhat, y) {\n\t\tconst subStep = yhat - y;\n\t\tconst squareStep = (this.output = Math.pow(yhat - y, 2));\n\n\t\tthis.subStep = subStep;\n\t\tthis.squareStep = squareStep;\n\t\tthis.output = squareStep;\n\t}\n\t/* \n\t\tPurpose: feed backward of the nerual network\n\t\t@stores dInputs\n\t*/\n\tbackward() {\n\t\tthis.dInputs = 2 * this.subStep;\n\t}\n}\n","/* \n\tDonny Bertucci: @xnought\n\tSummary: \n\t\tThis creates the definiton and implemntation of the neural network in a non vectorized more manual way \n\t\tdesigned to show all the operations\n\tTODO: add the update that would update to the weights sgd style and compute forward once more to see difference\n*/\nimport { Neuron } from \"./Neuron\";\nimport { MeanSquaredErrorLoss } from \"./Loss\";\nexport class NeuralNetwork {\n\t/* here we construct the Neuron model */\n\tconstructor(shape, weights, biases) {\n\t\tthis.model = [];\n\t\tthis.loss = new MeanSquaredErrorLoss();\n\t\tthis.shape = shape;\n\n\t\t/* HERE WE CONSTRUCT THE MODEL ON CLASS CREATION */\n\t\tfor (let layer = 0; layer < weights.length; layer++) {\n\t\t\tlet dense = [];\n\t\t\tfor (let neuron = 0; neuron < weights[layer].length; neuron++) {\n\t\t\t\tdense.push(\n\t\t\t\t\tnew Neuron(weights[layer][neuron], biases[layer][neuron])\n\t\t\t\t);\n\t\t\t}\n\t\t\tthis.model.push(dense);\n\t\t}\n\t}\n\t/* Next are some helper functions */\n\tsum(array) {\n\t\treturn array.reduce((a, b) => a + b);\n\t}\n\tadd(array1, array2) {\n\t\tconst array1Length = array1.length;\n\t\tconst array2Length = array2.length;\n\t\tif (array2Length != array1Length) {\n\t\t\tconsole.error(\n\t\t\t\t`${array1Length} does not match ${array2Length}, so returned empty array`\n\t\t\t);\n\t\t\treturn [];\n\t\t} else {\n\t\t\tlet result = new Array(array1Length);\n\t\t\tfor (let i = 0; i < array1.length; i++) {\n\t\t\t\tresult[i] = array1[i] + array2[i];\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t}\n\tzeros(length) {\n\t\tlet result = new Array(length);\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tresult[i] = 0;\n\t\t}\n\t\treturn result;\n\t}\n\tdReLU(input) {\n\t\treturn input > 0 ? 1 : 0;\n\t}\n\tdLinear(input) {\n\t\treturn 1;\n\t}\n\n\tReLU(input) {\n\t\treturn Math.max(0, input);\n\t}\n\n\tlinear(input) {\n\t\treturn input;\n\t}\n\n\t/* \n\t\tPurpose: to feed forward the entire layer\n\t\t@param input, label\n\t\t@store model, yhat, loss\n\t*/\n\tforward(input, label) {\n\t\tlet inputs = [input];\n\t\tconst lastLayer = this.model.length;\n\t\tconst outputNeuron = 0;\n\t\t/* First iterate through each layer */\n\t\tfor (let layer = 0; layer < lastLayer - 1; layer++) {\n\t\t\t/* Then iterate through each neuron in the layer */\n\t\t\tlet outputs = [];\n\t\t\tfor (let neuron = 0; neuron < this.model[layer].length; neuron++) {\n\t\t\t\t/* Then feed forward each individual neuron and push to output array */\n\t\t\t\tthis.model[layer][neuron].forward(inputs, this.ReLU);\n\t\t\t\toutputs.push(this.model[layer][neuron].output);\n\t\t\t}\n\n\t\t\t/* Then outputs will be the inputs for the next layer */\n\t\t\tinputs = outputs;\n\t\t}\n\t\tthis.model[lastLayer - 1][0].forward(inputs, this.linear);\n\t\tthis.yhat = this.model[lastLayer - 1][outputNeuron].output;\n\t\tthis.loss.forward(this.yhat, label);\n\t}\n\t/* \n\t\tPurpose: to feed backward the entire model per layer\n\t*/\n\tbackward() {\n\t\tconst { sum, add, zeros } = this;\n\t\tthis.loss.backward();\n\t\tlet dValues = [this.loss.dInputs];\n\t\tconst lastLayer = this.model.length;\n\t\t/* take care of output neuron */\n\t\tconst outputNeuron = 0;\n\t\tthis.model[lastLayer - 1][outputNeuron].backward(\n\t\t\tdValues[outputNeuron],\n\t\t\tthis.dLinear\n\t\t);\n\t\tdValues = this.model[lastLayer - 1][outputNeuron].dInputs;\n\n\t\t/* We want to start the second to last layer */\n\t\tfor (let layer = lastLayer - 2; layer >= 0; layer--) {\n\t\t\tlet dInputs = zeros(this.model[layer][0].inputs.length);\n\t\t\tfor (let neuron = 0; neuron < this.model[layer].length; neuron++) {\n\t\t\t\tthis.model[layer][neuron].backward(dValues[neuron], this.dReLU);\n\t\t\t\tdInputs = add(dInputs, this.model[layer][neuron].dInputs);\n\t\t\t}\n\t\t\tdValues = dInputs; //we transfer the dInputs into dValues for the next layer back\n\t\t}\n\t}\n\t/* \n\t\tPurpose: to update all the weights using gradient descent\n\t\t@param lr: learning rate\n\t*/\n\tupdate(lr) {\n\t\t/* First create the gradient descent */\n\t\tconst gd = (weight, lr, dweight) => weight - lr * dweight;\n\t\t/* Iterate over the model */\n\t\tfor (let layer = 0; layer < this.model.length; layer++) {\n\t\t\tfor (let neuron = 0; neuron < this.model[layer].length; neuron++) {\n\t\t\t\tfor (\n\t\t\t\t\tlet i = 0;\n\t\t\t\t\ti < this.model[layer][neuron].dWeights.length;\n\t\t\t\t\ti++\n\t\t\t\t) {\n\t\t\t\t\tconst newWeights = gd(\n\t\t\t\t\t\tthis.model[layer][neuron].weights[i],\n\t\t\t\t\t\tlr,\n\t\t\t\t\t\tthis.model[layer][neuron].dWeights[i]\n\t\t\t\t\t);\n\t\t\t\t\tconst newBias = gd(\n\t\t\t\t\t\tthis.model[layer][neuron].bias,\n\t\t\t\t\t\tlr,\n\t\t\t\t\t\tthis.model[layer][neuron].dBias\n\t\t\t\t\t);\n\n\t\t\t\t\t/* Formally update the model weights */\n\t\t\t\t\tthis.model[layer][neuron].weights[i] = newWeights;\n\t\t\t\t\tthis.model[layer][neuron].bias = newBias;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tthrottleForward(neuron, layer, change, label) {\n\t\t/* First Change the value of the output of this neuron */\n\t\tconst calcChange = this.model[layer][neuron].output + change;\n\t\tthis.model[layer][neuron].output = calcChange;\n\n\t\t/* First construct the inputs for the next layer which is made out of the new outputs */\n\t\tlet inputs = [];\n\t\tfor (let n = 0; n < this.model[layer].length; n++) {\n\t\t\tinputs.push(this.model[layer][n].output);\n\t\t}\n\n\t\tconst lastLayer = this.model.length;\n\t\tfor (let l = layer + 1; l < lastLayer - 1; l++) {\n\t\t\t/* Then iterate through each neuron in the layer */\n\t\t\tlet outputs = [];\n\t\t\tfor (let n = 0; n < this.model[l].length; n++) {\n\t\t\t\t/* Then feed forward each individual neuron and push to output array */\n\t\t\t\tthis.model[l][n].forward(inputs, this.ReLU);\n\t\t\t\toutputs.push(this.model[l][n].output);\n\t\t\t}\n\n\t\t\t/* Then outputs will be the inputs for the next layer */\n\t\t\tinputs = outputs;\n\t\t}\n\t\tthis.model[lastLayer - 1][0].forward(inputs, this.linear);\n\t\tthis.yhat = this.model[lastLayer - 1][0].output;\n\t\tthis.loss.forward(this.yhat, label);\n\t}\n}\n","/* \n\tDonny Bertucci: @xnought\n\tSummary: \n\t\tExports some tools that make it easier to deal with the data\n*/\n\n/* \n\tPurpose: format the weight array given from tensorflow\n\t@param uweights (unformatted weights), shape\n\t@return layer (formated weights per layer)\n*/\nexport function formatWeightArray(uweights, shape) {\n\tlet layer = [];\n\t/* Increment over each layer l */\n\tfor (let l = 0; l < uweights.length; l++) {\n\t\t/* First num in shape is input neuron which is why we skip here by adding 1 */\n\t\tlet increment = shape[l + 1];\n\t\tlet weightSet = [];\n\t\t/* Increment over each neuron */\n\t\tfor (let t = 0; t < increment; t++) {\n\t\t\tlet weights = [];\n\t\t\t/* Increment over each weight per neuron */\n\t\t\tfor (let w = t; w < uweights[l].length; w += increment) {\n\t\t\t\tweights.push(uweights[l][w]);\n\t\t\t}\n\t\t\tweightSet.push(weights);\n\t\t}\n\t\tlayer.push(weightSet);\n\t}\n\treturn layer;\n}\n\n/* \n\tPurpose: to turn a 2d array into the same array but fixed to a certian number of numbers/figures\n\t@param arr  (not fixed array), fixed\n\t@return arr (fixed array)\n*/\nexport function toFunc2DArray(arr, fixed) {\n\tfor (let i = 0; i < arr.length; i++) {\n\t\tfor (let e = 0; e < arr[i].length; e++) {\n\t\t\tarr[i][e] = +arr[i][e].toFixed(fixed);\n\t\t}\n\t}\n\treturn arr;\n}\n\n/* \n\tPurpose: Flattens the array\n\t@param array\n\t@return flattenedArray\n*/\nexport function flatten(array) {\n\tlet flattendArray = [];\n\tfor (let i = 0; i < array.length; i++) {\n\t\tfor (let e = 0; e < array[i].length; e++) {\n\t\t\tflattendArray.push(array[i][e]);\n\t\t}\n\t}\n\treturn flattendArray;\n}\n\n/* \n\tPurpose: generate random integer from 0 to given paramter\n\t@param max\n\t@return Number [0,max)\n*/\nexport function getRandomInt(max) {\n\treturn Math.floor(Math.random() * Math.floor(max));\n}\n\n/* \n\tPurpose: turn tensor to array\n\t@param tensor \n\t@return array\n*/\nexport function tensorToArray(tensor) {\n\treturn Array.from(tensor.dataSync());\n}\n","import * as d3 from \"d3\";\n\nexport function generateLinearScale(x, y) {\n\tconst xScale = d3.scaleLinear().domain(x.domain).range(x.range);\n\tconst yScale = d3.scaleLinear().domain(y.domain).range(y.range);\n\treturn { xScale, yScale };\n}\n\nexport function generateLink(adjustment) {\n\treturn d3\n\t\t.linkHorizontal()\n\t\t.x((d) => d.x + adjustment)\n\t\t.y((d) => d.y + adjustment);\n}\n\nexport function generateNeuronPlacement(\n\tshape,\n\tlayerProportion,\n\tsquareWidth,\n\tstartNeuron,\n\tstopNeuron,\n\txScale,\n\tyScale\n) {\n\tlet shapedNeurons = [];\n\tlet flattenedNeurons = [];\n\tshapedNeurons.push([startNeuron]);\n\tflattenedNeurons.push(startNeuron);\n\n\tfor (let layer = 1; layer < shape.length - 1; layer++) {\n\t\tlet dense = [];\n\t\tfor (let neuron = 0; neuron < shape[layer]; neuron++) {\n\t\t\tconst coordinate = {\n\t\t\t\tx: xScale(layerProportion[layer]) - squareWidth / 2,\n\t\t\t\ty: yScale(92 - neuron * 12) - squareWidth / 2,\n\t\t\t};\n\t\t\t// push to arrays\n\t\t\tdense.push(coordinate);\n\t\t\tflattenedNeurons.push(coordinate);\n\t\t}\n\t\tshapedNeurons.push(dense);\n\t}\n\n\tflattenedNeurons.push(stopNeuron);\n\tshapedNeurons.push([stopNeuron]);\n\n\treturn { flattenedNeurons, shapedNeurons };\n}\n\nexport function generateLinksPlacement(shape, shapedNeurons, linksGenerator) {\n\t/* We start to iterate over ns */\n\tlet perLink = [];\n\tlet layerLinks = [];\n\tlet neuronLinks = [];\n\tfor (let layer = 1; layer < shape.length; layer++) {\n\t\tneuronLinks = [];\n\t\tfor (let neuron = 0; neuron < shape[layer]; neuron++) {\n\t\t\tperLink = [];\n\t\t\tfor (\n\t\t\t\tlet nextNeuron = 0;\n\t\t\t\tnextNeuron < shape[layer - 1];\n\t\t\t\tnextNeuron++\n\t\t\t) {\n\t\t\t\tperLink.push(\n\t\t\t\t\tlinksGenerator({\n\t\t\t\t\t\tsource: shapedNeurons[layer - 1][nextNeuron],\n\t\t\t\t\t\ttarget: shapedNeurons[layer][neuron],\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t}\n\t\t\tneuronLinks.push(perLink);\n\t\t}\n\t\tlayerLinks.push(neuronLinks);\n\t}\n\n\treturn layerLinks;\n}\n","/* \n  @author: Donny Bertucci: xnought\n  Summary: \n\tMainTool.js is the main controller of all logic of the backprop explainer\n*/\n\n/*  START IMPORTS  */\nimport React, { Component } from \"react\";\nimport * as tf from \"@tensorflow/tfjs\";\nimport AnimatedNumber from \"animated-number-react\";\nimport {\n\tNeuralNetworkComponent,\n\tScatterPlot,\n\tLoss,\n\tAnimatedScatterPlot,\n} from \"../../exports\";\nimport {\n\tTypography,\n\tBox,\n\tCard,\n\tCardContent,\n\tIconButton,\n\tCardActions,\n\tChip,\n\tButton,\n\tFab,\n\tSlider,\n\tTooltip,\n\tDialog,\n\tDialogContent,\n\tDialogActions,\n} from \"@material-ui/core\";\nimport {\n\tReplay,\n\tSlowMotionVideo,\n\tPlayArrow,\n\tStop,\n\tHelp,\n\tClose,\n} from \"@material-ui/icons\";\nimport controlGif from \"./assets/controlcenter.gif\";\nimport customGif from \"./assets/customization.gif\";\nimport nnDiagram from \"./assets/nn.png\";\nimport scatterGif from \"./assets/scatter.gif\";\nimport keySVG from \"./assets/key.svg\";\nimport { NeuralNetwork, tools } from \"../../../nnMiniLibrary/exports\";\nimport { draw } from \"../../../Utils/exports\";\n/*  END IMPORTS  */\n\nclass MainTool extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\t/* \n\t\t\tApp js state will be the main controller of logic to components\n\t\t\tNote to self: Keep state as shallow as possible to avoid complexity with this.setState()\n\t\t*/\n\t\tthis.state = {\n\t\t\t/* State for NN */\n\t\t\ttensorFlowNN: null,\n\t\t\tminiNN: null,\n\t\t\tX: [],\n\t\t\ty: [],\n\t\t\tyhat: [],\n\t\t\tshape: [1, 8, 8, 1],\n\t\t\tlr: 0.005,\n\t\t\tepoch: 0,\n\t\t\tcpyEpoch: 0,\n\n\t\t\tbiasesData: [],\n\t\t\tweightsData: [],\n\t\t\tlossArray: [],\n\t\t\tloss: null,\n\t\t\tscale: 5,\n\t\t\trects: [],\n\n\t\t\tweights: [],\n\t\t\tshapedWeights: [],\n\t\t\tshapedRects: [],\n\n\t\t\tshapedLinks: [],\n\n\t\t\tdirection: \"edgePaused\",\n\t\t\tcurve: \"sin\",\n\n\t\t\t/* State for Components */\n\t\t\tcontrols: {\n\t\t\t\tplaying: false,\n\t\t\t\tspeed: 100,\n\t\t\t},\n\t\t\tsliderVal: 2,\n\t\t\tmode: false,\n\t\t\tstopRender: false,\n\t\t\tkeyFrameLayer: 0,\n\t\t\tkeyFrameLoss: 0,\n\t\t\tkeyFrameScatter: 0,\n\t\t\tsubEpoch: \"\",\n\t\t\tisAnimating: false,\n\t\t\tlossSavings: 0,\n\t\t\tlossDifference: 0,\n\t\t\tsingleInputExample: 0,\n\t\t\tsingleLabelExample: 0,\n\t\t\tnewOutput: 0,\n\n\t\t\t/* Dialog showing */\n\t\t\tcontrolCenterHelp: false,\n\t\t\tcustomizationHelp: false,\n\t\t\tneuralNetworkHelp: false,\n\t\t\tscatterHelp: false,\n\t\t\tlossHelp: false,\n\t\t\tlossChange: 0,\n\t\t\tpotentialYhat: [],\n\t\t\tsingleInputIndex: -1,\n\t\t\tshouldNotRender: false,\n\t\t\tstatus: \"reset\",\n\t\t\tzoom: 1,\n\t\t};\n\n\t\tthis.initNeuralNetwork = this.initNeuralNetwork.bind(this);\n\t\tthis.run = this.run.bind(this);\n\t\tthis.genTensorData = this.genTensorData.bind(this);\n\t\tthis.mutate = this.mutate.bind(this);\n\t\tthis.train = this.train.bind(this);\n\t\tthis.printParameters = this.printParameters.bind(this);\n\t\tthis.reset = this.reset.bind(this);\n\t\tthis.resetParameters = this.resetParameters.bind(this);\n\t\tthis.asyncPause = this.asyncPause.bind(this);\n\t\tthis.changeModelLr = this.changeModelLr.bind(this);\n\t\tthis.anim = this.anim.bind(this);\n\t\tthis.randomInputGeneration = this.randomInputGeneration.bind(this);\n\t}\n\trandomInputGeneration(X, y, weightsData, biasesData, shape, lr, mode) {\n\t\tconst randomInput = tools.getRandomInt(50);\n\t\tconst singleInputExample = X[randomInput];\n\t\tconst singleLabelExample = y[randomInput];\n\n\t\tlet formattedWeights = tools.formatWeightArray(weightsData, shape);\n\t\tlet nn = new NeuralNetwork(shape, formattedWeights, biasesData);\n\t\tlet clone = new NeuralNetwork(shape, formattedWeights, biasesData);\n\n\t\tnn.forward(singleInputExample, singleLabelExample);\n\t\tnn.backward();\n\n\t\tclone.forward(singleInputExample, singleLabelExample);\n\t\tclone.backward();\n\t\tclone.update(lr);\n\t\tclone.forward(singleInputExample, singleLabelExample);\n\n\t\tconst newOutput = clone.yhat;\n\t\tconst updatedLoss = clone.loss.output;\n\t\tconst lossSavings = updatedLoss;\n\t\tconst lossDifference = nn.loss.output - updatedLoss;\n\n\t\tconst forwardAll = (inputArray) => {\n\t\t\t/* Here we return an array of all the inputs fed forward */\n\t\t\tconst inputArrayLength = inputArray.length;\n\t\t\tlet outputArray = new Array(inputArrayLength);\n\n\t\t\tfor (let i = 0; i < inputArrayLength; i++) {\n\t\t\t\tclone.forward(inputArray[i], 0); //we dont care about loss here so the input label doesnt matter\n\t\t\t\toutputArray[i] = clone.yhat; //store all outputs to the outputArray\n\t\t\t}\n\n\t\t\treturn outputArray; //return the output array to be used elsewhere\n\t\t};\n\t\tlet a = forwardAll(X);\n\n\t\tthis.setState({\n\t\t\t...this.state,\n\t\t\tminiNN: nn,\n\t\t\tpotentialYhat: a,\n\t\t\tmode: true,\n\t\t\tlossSavings,\n\t\t\tlossDifference,\n\t\t\tsingleInputIndex: randomInput,\n\t\t\tsingleInputExample,\n\t\t\tsingleLabelExample,\n\t\t\tnewOutput,\n\t\t\tcontrols: {\n\t\t\t\t...this.state.controls,\n\t\t\t\tplaying: false,\n\t\t\t},\n\t\t});\n\t}\n\n\tasync anim() {\n\t\tconst { shape } = this.state;\n\t\tconst speed = 750;\n\t\t/* All anim needs to know is the shape */\n\t\tconst timer = (ms) => new Promise((res) => setTimeout(res, ms));\n\n\t\t/* animate the forward pass */\n\t\tthis.setState({\n\t\t\tsubEpoch: \"forward\",\n\t\t\tstatus: \"reset\",\n\t\t\tisAnimating: true,\n\t\t\tlossChange: 0,\n\t\t\tcpyEpoch: this.state.epoch,\n\t\t\tkeyFrameScatter: 0,\n\t\t});\n\t\tfor (let i = 0; i < shape.length; i++) {\n\t\t\tthis.setState({ keyFrameLayer: i });\n\t\t\tif (i === shape.length - 1) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tawait timer(speed);\n\t\t}\n\n\t\tthis.setState({\n\t\t\tkeyFrameLoss: 1,\n\t\t\tkeyFrameScatter: 1,\n\t\t\tstatus: \"real\",\n\t\t\tshouldNotRender: true,\n\t\t});\n\n\t\tawait timer(speed);\n\t\tthis.setState({ keyFrameLoss: 2, shouldNotRender: true });\n\t\tawait timer(speed);\n\t\tthis.setState({ keyFrameLoss: 3 });\n\n\t\t//we update the losschange\n\t\tthis.setState({\n\t\t\tlossChange: this.state.miniNN.loss.output,\n\t\t});\n\t\tthis.setState({ subEpoch: \"backward\", keyFrameScatter: 2 });\n\n\t\tfor (let i = shape.length - 1; i >= 0; i--) {\n\t\t\tthis.setState({ keyFrameLayer: i });\n\t\t\tawait timer(speed);\n\t\t}\n\t\tthis.setState({ keyFrameLayer: -1 });\n\n\t\tawait timer(speed);\n\t\tthis.setState({ subEpoch: \"transition\" });\n\n\t\tawait timer(1000);\n\t\tthis.setState({ subEpoch: \"update\", shouldNotRender: false });\n\t\tawait timer(1000);\n\t\t//we update the new loss\n\t\tthis.setState({\n\t\t\tisAnimating: false,\n\t\t\tlossChange: this.state.lossSavings,\n\t\t\tkeyFrameScatter: 4,\n\t\t\tcpyEpoch: this.state.cpyEpoch + 1,\n\t\t\tstatus: \"pred\",\n\t\t});\n\n\t\t/* animate update */\n\t}\n\n\tinitNeuralNetwork(shape) {\n\t\tconst { controls } = this.state;\n\t\tconst { playing } = controls;\n\n\t\t// If we are not training the tensorflow neural network\n\t\tif (!playing) {\n\t\t\t/* START SETUP */\n\t\t\tconst squareWidth = 32;\n\t\t\tconst xConstraints = { domain: [0, 100], range: [50, 750] };\n\t\t\tconst yConstraints = { domain: [0, 100], range: [500, 0] };\n\t\t\t//prettier-ignore\n\t\t\tconst {xScale, yScale} = draw.generateLinearScale(xConstraints,yConstraints);\n\t\t\t// Create the starting point and the stopping point for the neural network\n\t\t\tconst start = { x: 71 - squareWidth / 2, y: 250 - squareWidth / 2 };\n\t\t\tconst stop = { x: 750 - squareWidth / 2, y: 250 - squareWidth / 2 };\n\t\t\t// generate function to create paths from (x,y) to (x,y)\n\t\t\tconst linksGenerator = draw.generateLink(squareWidth / 2);\n\t\t\t// how the layers are proptioned compared to the linear scale\n\t\t\tconst layerProportion = [0, 25, 50, 75, 0];\n\t\t\t/* END SETUP */\n\n\t\t\t/* START GENERATING THE GRAPH */\n\t\t\tconst {\n\t\t\t\tflattenedNeurons,\n\t\t\t\tshapedNeurons,\n\t\t\t} = draw.generateNeuronPlacement(\n\t\t\t\tshape,\n\t\t\t\tlayerProportion,\n\t\t\t\tsquareWidth,\n\t\t\t\tstart,\n\t\t\t\tstop,\n\t\t\t\txScale,\n\t\t\t\tyScale\n\t\t\t);\n\t\t\tconst layerLinks = draw.generateLinksPlacement(\n\t\t\t\tshape,\n\t\t\t\tshapedNeurons,\n\t\t\t\tlinksGenerator\n\t\t\t);\n\t\t\t/* END GENERATING THE GRAPH */\n\n\t\t\tshapedNeurons.splice(0, 1); //in order for it to be lined up with the nn model\n\t\t\t//update the state of the links and rectangles to be rendered\n\t\t\tthis.setState({\n\t\t\t\tshapedLinks: layerLinks,\n\t\t\t\trects: flattenedNeurons,\n\t\t\t\tshapedRects: shapedNeurons,\n\t\t\t});\n\t\t} else if (playing) {\n\t\t\tconst { weightsData, shape } = this.state;\n\t\t\tconst flattenedWeights = tools.flatten(weightsData);\n\t\t\t//update the weights to be rendered\n\t\t\tconst shapedWeights = tools.formatWeightArray(weightsData, shape);\n\n\t\t\tthis.setState({ weights: flattenedWeights, shapedWeights });\n\t\t}\n\t}\n\n\tchangeModelLr(lrChange) {\n\t\ttf.tidy(() => {\n\t\t\tthis.setState({ lr: lrChange });\n\t\t\treturn undefined;\n\t\t});\n\t}\n\n\tasync run() {\n\t\tconst playing = !this.state.controls.playing;\n\t\tthis.mutate(\"controls\", \"playing\", playing);\n\t\tif (playing === true) {\n\t\t\tawait this.train(this.state.X, this.state.y);\n\t\t}\n\t}\n\n\tmutate(key, subkey, value) {\n\t\t/* copy of the state */\n\t\ttf.tidy(() => {\n\t\t\tlet state = { ...this.state };\n\t\t\t/* If this.state.key.subkey exists */\n\t\t\tif (key in state && subkey in state[key]) {\n\t\t\t\t/* Mutate the state */\n\t\t\t\tstate[key][subkey] = value;\n\t\t\t\tthis.setState({ state });\n\t\t\t} else {\n\t\t\t\tconsole.error(\"Could not be found in state\");\n\t\t\t}\n\t\t\treturn undefined;\n\t\t});\n\t}\n\n\taddModel(model) {\n\t\treturn tf.tidy(() => {\n\t\t\tlet shape = this.state.shape;\n\t\t\tmodel.add(\n\t\t\t\ttf.layers.dense({\n\t\t\t\t\tinputShape: [1],\n\t\t\t\t\tunits: shape[1],\n\t\t\t\t\tactivation: \"relu\",\n\t\t\t\t\tuseBias: true,\n\t\t\t\t})\n\t\t\t);\n\t\t\tfor (let layer = 2; layer < shape.length - 1; layer++) {\n\t\t\t\tmodel.add(\n\t\t\t\t\ttf.layers.dense({\n\t\t\t\t\t\tunits: shape[layer],\n\t\t\t\t\t\tactivation: \"relu\",\n\t\t\t\t\t\tuseBias: true,\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t}\n\t\t\tmodel.add(\n\t\t\t\ttf.layers.dense({\n\t\t\t\t\tunits: 1,\n\t\t\t\t\tactivation: \"linear\",\n\t\t\t\t\tuseBias: true,\n\t\t\t\t})\n\t\t\t);\n\n\t\t\treturn model;\n\t\t});\n\t}\n\tmodelCompile(lr) {\n\t\tlet model = tf.sequential();\n\t\tthis.addModel(model);\n\t\tmodel.compile({\n\t\t\toptimizer: tf.train.sgd(lr),\n\t\t\tloss: \"meanSquaredError\",\n\t\t});\n\t\treturn model;\n\t}\n\tasync train(X, y) {\n\t\t/* START SETUP */\n\t\tconst XTensor = tf.tidy(() => {\n\t\t\treturn tf.tensor(X);\n\t\t});\n\t\tconst yTensor = tf.tidy(() => {\n\t\t\treturn tf.tensor(y);\n\t\t});\n\t\tconst model = tf.tidy(() => {\n\t\t\treturn this.state.tensorFlowNN;\n\t\t});\n\t\tconst timer = (ms) => new Promise((res) => setTimeout(res, ms));\n\t\t/* START SETUP */\n\n\t\t///* Until broken by user */\n\t\tlet play = this.state.controls.playing;\n\t\t////let epoch = 0;\n\t\twhile (play !== false) {\n\t\t\tthis.setState({ stopRender: true });\n\t\t\tconst { playing, speed } = this.state.controls;\n\t\t\tplay = playing;\n\t\t\tawait model.fit(XTensor, yTensor, {\n\t\t\t\tepochs: 1,\n\t\t\t\tbatchSize: 1,\n\t\t\t});\n\t\t\ttf.tidy(() => {\n\t\t\t\tlet yhatTensor = model.predict(XTensor);\n\t\t\t\tlet yhat = tools.tensorToArray(yhatTensor);\n\t\t\t\tlet loss = tf.losses.meanSquaredError(y, yhat).dataSync()[0];\n\t\t\t\tthis.printParameters(model, loss, yhat, this.state.epoch + 1);\n\t\t\t\treturn undefined;\n\t\t\t});\n\t\t\tthis.setState({ stopRender: false });\n\t\t\tawait timer(speed);\n\t\t}\n\t\tthis.setState({ tensorFlowNN: model });\n\t\ttf.dispose(XTensor);\n\t\ttf.dispose(yTensor);\n\t}\n\tasync genTensorData(eqn, scaled, volume) {\n\t\tawait tf.ready();\n\t\ttf.tidy(() => {\n\t\t\tconst XTensor = tf.linspace(\n\t\t\t\t-this.state.scale,\n\t\t\t\tthis.state.scale,\n\t\t\t\tvolume\n\t\t\t);\n\t\t\tconst yTensor = tf.mul(eqn(XTensor), scaled);\n\t\t\tconst yhatTensor = tf.zerosLike(XTensor);\n\t\t\tconst X = tools.tensorToArray(XTensor);\n\t\t\tconst y = tools.tensorToArray(yTensor);\n\t\t\tconst yhat = tools.tensorToArray(yhatTensor);\n\n\t\t\tthis.setState({\n\t\t\t\tX,\n\t\t\t\ty,\n\t\t\t\tyhat,\n\t\t\t});\n\t\t\treturn undefined;\n\t\t});\n\t}\n\tprintParameters(model, loss, yhat, epoch) {\n\t\tlet weightsData = [];\n\t\tlet biasesData = [];\n\t\tfor (let i = 0; i < model.getWeights().length; i++) {\n\t\t\t(i % 2 === 0 ? weightsData : biasesData).push(\n\t\t\t\tArray.from(model.getWeights()[i].dataSync())\n\t\t\t);\n\t\t}\n\t\tconst lossArray = [...this.state.lossArray, loss];\n\t\tthis.setState({\n\t\t\tbiasesData,\n\t\t\tweightsData,\n\t\t\tloss,\n\t\t\tyhat,\n\t\t\tepoch,\n\t\t\tlossArray,\n\t\t});\n\t\tthis.initNeuralNetwork(this.state.shape);\n\t}\n\tasync asyncPause() {\n\t\tthis.setState({ controls: { ...this.state.controls, playing: false } });\n\t}\n\tasync resetParameters(scale) {\n\t\ttf.dispose(this.state.tensorFlowNN);\n\t\tconst { curve } = this.state;\n\t\tlet eqn;\n\t\tlet optimizer;\n\t\ttf.tidy(() => {\n\t\t\tif (curve === \"sin\") {\n\t\t\t\teqn = tf.sin;\n\t\t\t} else if (curve === \"tanh\") {\n\t\t\t\teqn = tf.tanh;\n\t\t\t} else if (curve === \"cos\") {\n\t\t\t\teqn = tf.cos;\n\t\t\t}\n\n\t\t\treturn undefined;\n\t\t});\n\t\tawait this.genTensorData(eqn, scale, 50);\n\t\tconst model = tf.tidy(() => {\n\t\t\treturn this.modelCompile(this.state.lr);\n\t\t});\n\t\tthis.setState({\n\t\t\tepoch: 0,\n\t\t\tloss: null,\n\t\t\tweights: [],\n\t\t\tminiNN: null,\n\t\t\ttensorFlowNN: model,\n\t\t\tshapedWeights: [],\n\t\t\tlossArray: [],\n\t\t});\n\t\ttf.dispose(optimizer);\n\t}\n\tasync reset(scale) {\n\t\tthis.asyncPause();\n\t\tthis.resetParameters(scale);\n\t}\n\tasync componentDidMount() {\n\t\ttf.setBackend(\"cpu\");\n\t\tthis.genTensorData(tf.sin, this.state.scale, 50);\n\t\tthis.initNeuralNetwork(this.state.shape);\n\t\tconst model = tf.tidy(() => {\n\t\t\treturn this.modelCompile(0.01);\n\t\t});\n\n\t\tconst width = document.body.clientWidth;\n\t\tconst zoomFactor = (1 - 0.75) / (1387 - 913);\n\t\tconst zoomShift = 0.75 - zoomFactor * 913;\n\t\tconst zoom = Math.min(1, zoomFactor * width + zoomShift - 0.2);\n\t\tconsole.log(zoom);\n\t\tthis.setState({ tensorFlowNN: model, zoom });\n\t}\n\tshouldComponentUpdate() {\n\t\tif (this.state.stopRender) {\n\t\t\treturn false;\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\trender() {\n\t\t/* Destructure State*/\n\t\tconst {\n\t\t\tX,\n\t\t\ty,\n\t\t\tshape,\n\t\t\tscale,\n\t\t\tminiNN,\n\t\t\tweightsData,\n\t\t\tbiasesData,\n\t\t\tyhat,\n\t\t\trects,\n\t\t\tweights,\n\t\t\tmode,\n\t\t\tepoch,\n\t\t\tcurve,\n\t\t\tlr,\n\t\t\tloss,\n\t\t\tcontrols,\n\t\t\tshapedWeights,\n\t\t\tshapedLinks,\n\t\t\tshapedRects,\n\t\t\tkeyFrameLayer,\n\t\t\tkeyFrameLoss,\n\t\t\tsubEpoch,\n\t\t\tisAnimating,\n\t\t\tsingleInputExample,\n\t\t\tsingleLabelExample,\n\t\t\tlossSavings,\n\t\t\tcontrolCenterHelp,\n\t\t\tcustomizationHelp,\n\t\t\tneuralNetworkHelp,\n\t\t\tlossChange,\n\t\t\tscatterHelp,\n\t\t\tkeyFrameScatter,\n\t\t\tzoom,\n\t\t} = this.state;\n\t\tconst { playing, speed } = controls;\n\n\t\tconst lrs = [0.001, 0.005, 0.01, 0.05, 0.1];\n\t\tconst dataSets = [\n\t\t\t{ label: \"sin\", eqn: tf.sin, scale: 5 },\n\t\t\t{ label: \"cos\", eqn: tf.cos, scale: 5 },\n\t\t\t{ label: \"tanh\", eqn: tf.tanh, scale: 5 },\n\t\t];\n\n\t\t/* Destructure render */\n\t\tconst PlayButtonClick = (\n\t\t\t// eslint-disable-next-line\n\t\t\t<Fab\n\t\t\t\tstyle={{\n\t\t\t\t\tbackground: !this.state.controls.playing\n\t\t\t\t\t\t? \"#175676\"\n\t\t\t\t\t\t: \"#D62839\",\n\t\t\t\t\tcolor: \"white\",\n\t\t\t\t}}\n\t\t\t\tdisableTouchRipple\n\t\t\t\tonClick={() => this.run()}\n\t\t\t>\n\t\t\t\t{!playing ? <PlayArrow /> : <Stop />}\n\t\t\t</Fab>\n\t\t);\n\t\tconst controlsReg = (\n\t\t\t<CardActions>\n\t\t\t\t<Tooltip title=\"reset\" arrow>\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\tdisabled={playing}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tthis.reset(scale);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Replay />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</Tooltip>\n\t\t\t\t{PlayButtonClick}\n\t\t\t\t<Tooltip title=\"slomo\" arrow>\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tcolor: speed === 0 ? \"grey\" : \"#FFC006\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\tcontrols: {\n\t\t\t\t\t\t\t\t\t...controls,\n\t\t\t\t\t\t\t\t\tspeed: speed === 0 ? 100 : 0,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SlowMotionVideo />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</Tooltip>\n\t\t\t</CardActions>\n\t\t);\n\t\tconst controlsBackProp = (\n\t\t\t<Box marginTop={2}>\n\t\t\t\t<CardActions>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\t\tawait this.anim();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tdisabled={isAnimating}\n\t\t\t\t\t\tstyle={{ color: isAnimating ? \"lightgrey\" : \"black\" }}\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Replay /> {\"  \"}REPLAY\n\t\t\t\t\t</Button>\n\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\t\tthis.randomInputGeneration(\n\t\t\t\t\t\t\t\tX,\n\t\t\t\t\t\t\t\ty,\n\t\t\t\t\t\t\t\tweightsData,\n\t\t\t\t\t\t\t\tbiasesData,\n\t\t\t\t\t\t\t\tshape,\n\t\t\t\t\t\t\t\tlr,\n\t\t\t\t\t\t\t\tmode\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tawait this.anim();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tstyle={{ color: isAnimating ? \"lightgrey\" : \"#4BA3C3\" }}\n\t\t\t\t\t\tdisabled={isAnimating}\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t>\n\t\t\t\t\t\tNew Training Example\n\t\t\t\t\t</Button>\n\t\t\t\t</CardActions>\n\t\t\t</Box>\n\t\t);\n\t\tconst controlCenter = (\n\t\t\t<Box width={400} marginLeft={10}>\n\t\t\t\t<Card variant=\"outlined\">\n\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tvariant=\"caption\"\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tcolor: \"#4BA3C3\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{\"Control Center\"}\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tstyle={{ color: \"orange\" }}\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tthis.setState({ controlCenterHelp: true });\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Help />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<div></div>\n\n\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t\t\t{mode ? \"Click: Back\" : \"Click: Epoch Mode\"}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tarrow\n\t\t\t\t\t\t\tplacement=\"right-start\"\n\t\t\t\t\t\t\topen={loss !== null || (mode && !isAnimating)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tdisabled={loss == null || isAnimating}\n\t\t\t\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\t\t\t\tif (mode) {\n\t\t\t\t\t\t\t\t\t\tthis.setState({ subEpoch: \"\" });\n\t\t\t\t\t\t\t\t\t\tthis.setState({ mode: !mode });\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tthis.randomInputGeneration(\n\t\t\t\t\t\t\t\t\t\t\tX,\n\t\t\t\t\t\t\t\t\t\t\ty,\n\t\t\t\t\t\t\t\t\t\t\tweightsData,\n\t\t\t\t\t\t\t\t\t\t\tbiasesData,\n\t\t\t\t\t\t\t\t\t\t\tshape,\n\t\t\t\t\t\t\t\t\t\t\tlr,\n\t\t\t\t\t\t\t\t\t\t\tmode\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\tawait this.anim();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Typography variant=\"h4\">\n\t\t\t\t\t\t\t\t\tEpoch: {mode ? this.state.cpyEpoch : epoch}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Tooltip>\n\n\t\t\t\t\t\t{mode ? (\n\t\t\t\t\t\t\t<CardActions>\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tcolor: \"orange\",\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tvariant=\"h6\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tPhase:\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tdisabled={true}\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tcolor:\n\t\t\t\t\t\t\t\t\t\t\tsubEpoch === \"forward\"\n\t\t\t\t\t\t\t\t\t\t\t\t? \"orange\"\n\t\t\t\t\t\t\t\t\t\t\t\t: \"grey\",\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tForward\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tdisabled={true}\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tcolor:\n\t\t\t\t\t\t\t\t\t\t\tsubEpoch === \"backward\"\n\t\t\t\t\t\t\t\t\t\t\t\t? \"orange\"\n\t\t\t\t\t\t\t\t\t\t\t\t: \"grey\",\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tBackward\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tdisabled={true}\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tcolor:\n\t\t\t\t\t\t\t\t\t\t\tsubEpoch === \"update\"\n\t\t\t\t\t\t\t\t\t\t\t\t? \"orange\"\n\t\t\t\t\t\t\t\t\t\t\t\t: \"grey\",\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tUpdate\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</CardActions>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t{loss == null || mode\n\t\t\t\t\t\t\t\t? \"\"\n\t\t\t\t\t\t\t\t: `Loss: ${loss.toPrecision(6)}`}\n\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t<Typography variant=\"h6\" style={{ color: \"#4BA3C3\" }}>\n\t\t\t\t\t\t\t{mode\n\t\t\t\t\t\t\t\t? `Training Example: (${singleInputExample.toPrecision(\n\t\t\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t\t  )}, ${singleLabelExample.toPrecision(3)})`\n\t\t\t\t\t\t\t\t: \"\"}\n\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tvariant=\"h5\"\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tcolor:\n\t\t\t\t\t\t\t\t\tkeyFrameScatter < 3 ? \"black\" : \"orangered\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{mode && lossChange != 0\n\t\t\t\t\t\t\t\t? keyFrameScatter < 3\n\t\t\t\t\t\t\t\t\t? \"loss: \"\n\t\t\t\t\t\t\t\t\t: \"new loss: \"\n\t\t\t\t\t\t\t\t: \"\"}\n\t\t\t\t\t\t\t{mode && lossChange != 0 ? (\n\t\t\t\t\t\t\t\t<AnimatedNumber\n\t\t\t\t\t\t\t\t\tvalue={lossChange}\n\t\t\t\t\t\t\t\t\tformatValue={(value) =>\n\t\t\t\t\t\t\t\t\t\tvalue.toPrecision(6)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tduration={750}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography style={{ color: \"grey\" }} variant=\"caption\">\n\t\t\t\t\t\t\t{keyFrameScatter > 3 && mode\n\t\t\t\t\t\t\t\t? \"loss decrease: \"\n\t\t\t\t\t\t\t\t: \"\"}\n\t\t\t\t\t\t\t{keyFrameScatter > 3 && mode ? (\n\t\t\t\t\t\t\t\t<AnimatedNumber\n\t\t\t\t\t\t\t\t\tvalue={this.state.lossDifference}\n\t\t\t\t\t\t\t\t\tformatValue={(value) =>\n\t\t\t\t\t\t\t\t\t\tvalue.toPrecision(6)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tduration={750}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t{mode ? controlsBackProp : controlsReg}\n\n\t\t\t\t\t\t<CardActions></CardActions>\n\t\t\t\t\t</CardContent>\n\t\t\t\t</Card>\n\n\t\t\t\t<Box marginTop={5}>\n\t\t\t\t\t<Card variant=\"outlined\">\n\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\tvariant=\"caption\"\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tcolor: \"#4BA3C3\",\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{\"Customization \"}\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tstyle={{ color: \"orange\" }}\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\tcustomizationHelp: true,\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Help />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<CardActions>\n\t\t\t\t\t\t\t\t<Typography variant=\"caption\">\n\t\t\t\t\t\t\t\t\tLearning Rate\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t{lrs.map((num, i) => (\n\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\tdisabled={playing || mode}\n\t\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\t\tlabel={`${num}`}\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\tcolor:\n\t\t\t\t\t\t\t\t\t\t\t\tlr === num ? \"white\" : \"grey\",\n\t\t\t\t\t\t\t\t\t\t\tbackground:\n\t\t\t\t\t\t\t\t\t\t\t\tlr === num\n\t\t\t\t\t\t\t\t\t\t\t\t\t? \"#175676\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"lightgrey\",\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\ttf.tidy(() => {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.changeModelLr(num);\n\t\t\t\t\t\t\t\t\t\t\t\tthis.reset(scale);\n\t\t\t\t\t\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t></Chip>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</CardActions>\n\t\t\t\t\t\t\t<CardActions>\n\t\t\t\t\t\t\t\t<Typography variant=\"caption\">\n\t\t\t\t\t\t\t\t\tData Set\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t{dataSets.map((item, i) => (\n\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\tdisabled={playing || mode}\n\t\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\t\tlabel={item.label}\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\tcolor:\n\t\t\t\t\t\t\t\t\t\t\t\tcurve === item.label\n\t\t\t\t\t\t\t\t\t\t\t\t\t? \"white\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"grey\",\n\t\t\t\t\t\t\t\t\t\t\tbackground:\n\t\t\t\t\t\t\t\t\t\t\t\tcurve === item.label\n\t\t\t\t\t\t\t\t\t\t\t\t\t? \"#175676\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"lightgrey\",\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\t\tshape,\n\t\t\t\t\t\t\t\t\t\t\t\tcurve: item.label,\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\tthis.reset(scale);\n\t\t\t\t\t\t\t\t\t\t\ttf.tidy(() => {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.genTensorData(\n\t\t\t\t\t\t\t\t\t\t\t\t\titem.eqn,\n\t\t\t\t\t\t\t\t\t\t\t\t\titem.scale,\n\t\t\t\t\t\t\t\t\t\t\t\t\t50\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t></Chip>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</CardActions>\n\t\t\t\t\t\t\t<CardActions>\n\t\t\t\t\t\t\t\t<Typography variant=\"caption\">\n\t\t\t\t\t\t\t\t\tNeurons\n\t\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\t\t\tstyle={{ color: \"#175676\" }}\n\t\t\t\t\t\t\t\t\tdefaultValue={2}\n\t\t\t\t\t\t\t\t\tdisabled={playing || mode}\n\t\t\t\t\t\t\t\t\taria-labelledby=\"discrete-slider\"\n\t\t\t\t\t\t\t\t\tvalueLabelDisplay=\"auto\"\n\t\t\t\t\t\t\t\t\tstep={1}\n\t\t\t\t\t\t\t\t\tmarks\n\t\t\t\t\t\t\t\t\tonChange={(e, n) => {\n\t\t\t\t\t\t\t\t\t\tthis.setState({ sliderVal: n });\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\t\t\tmax={8}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tdisabled={playing || mode}\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tlet a = shape;\n\t\t\t\t\t\t\t\t\t\tif (a.length < 5) {\n\t\t\t\t\t\t\t\t\t\t\ta[\n\t\t\t\t\t\t\t\t\t\t\t\ta.length - 1\n\t\t\t\t\t\t\t\t\t\t\t] = this.state.sliderVal;\n\t\t\t\t\t\t\t\t\t\t\ta.push(1);\n\t\t\t\t\t\t\t\t\t\t\tthis.setState({ shape: a });\n\t\t\t\t\t\t\t\t\t\t\tthis.initNeuralNetwork(a);\n\t\t\t\t\t\t\t\t\t\t\tthis.reset(scale);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t+\n\t\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tdisabled={playing || mode}\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tlet a = shape;\n\t\t\t\t\t\t\t\t\t\tif (a.length > 3) {\n\t\t\t\t\t\t\t\t\t\t\ta.splice(a.length - 2, 1);\n\t\t\t\t\t\t\t\t\t\t\tthis.setState({ shape: a });\n\t\t\t\t\t\t\t\t\t\t\tthis.initNeuralNetwork(a);\n\t\t\t\t\t\t\t\t\t\t\tthis.reset(scale);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</CardActions>\n\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t</Card>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t);\n\t\tconst scatter = (\n\t\t\t<Box marginLeft={10}>\n\t\t\t\t<Box>\n\t\t\t\t\t{mode ? (\n\t\t\t\t\t\t<AnimatedScatterPlot\n\t\t\t\t\t\t\twidth={300}\n\t\t\t\t\t\t\theight={300}\n\t\t\t\t\t\t\tpadding={0}\n\t\t\t\t\t\t\tstart={-scale}\n\t\t\t\t\t\t\tstop={scale}\n\t\t\t\t\t\t\tX={X}\n\t\t\t\t\t\t\ty={y}\n\t\t\t\t\t\t\tyhat={yhat}\n\t\t\t\t\t\t\tpotential={this.state.potentialYhat}\n\t\t\t\t\t\t\tid={2}\n\t\t\t\t\t\t\tselect={this.state.singleInputIndex}\n\t\t\t\t\t\t\ttimes={this.state.keyFrameScatter}\n\t\t\t\t\t\t\tshouldNotRender={this.state.shouldNotRender}\n\t\t\t\t\t\t\tstatus={this.state.status}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<ScatterPlot\n\t\t\t\t\t\t\twidth={300}\n\t\t\t\t\t\t\theight={300}\n\t\t\t\t\t\t\tpadding={0}\n\t\t\t\t\t\t\tstart={-scale}\n\t\t\t\t\t\t\tstop={scale}\n\t\t\t\t\t\t\tX={X}\n\t\t\t\t\t\t\ty={y}\n\t\t\t\t\t\t\tyhat={yhat}\n\t\t\t\t\t\t\tid={1}\n\t\t\t\t\t\t\tduration={100}\n\t\t\t\t\t\t\tselect={-1}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tcolor: \"orange\",\n\t\t\t\t\t\t\tposition: \"relative\",\n\t\t\t\t\t\t\tbottom: \"300px\",\n\t\t\t\t\t\t\tright: \"40px\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\tscatterHelp: true,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Help />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</Box>\n\t\t\t\t<Box marginTop={10}>\n\t\t\t\t\t<Loss lossArray={this.state.lossArray} duration={100} />\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t);\n\t\tconst neuralNetwork = (\n\t\t\t<Box>\n\t\t\t\t<NeuralNetworkComponent\n\t\t\t\t\tminiNN={miniNN}\n\t\t\t\t\tinput={singleInputExample}\n\t\t\t\t\tlabel={singleLabelExample}\n\t\t\t\t\tshapedWeights={shapedWeights}\n\t\t\t\t\tshapedLinks={shapedLinks}\n\t\t\t\t\tshapedRects={shapedRects}\n\t\t\t\t\tshape={shape}\n\t\t\t\t\tbiases={biasesData}\n\t\t\t\t\tweights={weights}\n\t\t\t\t\trects={rects}\n\t\t\t\t\tplaying={\n\t\t\t\t\t\tplaying\n\t\t\t\t\t\t\t? speed === 0\n\t\t\t\t\t\t\t\t? \"edgeForward\"\n\t\t\t\t\t\t\t\t: \"edgeSlowed\"\n\t\t\t\t\t\t\t: \"edgePaused\"\n\t\t\t\t\t}\n\t\t\t\t\tshow={playing}\n\t\t\t\t\tmode={mode}\n\t\t\t\t\tbackward={this.state.direction}\n\t\t\t\t\tkeyFrameLayer={keyFrameLayer}\n\t\t\t\t\tkeyFrameLoss={keyFrameLoss}\n\t\t\t\t\tsubEpoch={subEpoch}\n\t\t\t\t\tlossSavings={lossSavings}\n\t\t\t\t\tisAnimating={isAnimating}\n\t\t\t\t\tlr={lr}\n\t\t\t\t></NeuralNetworkComponent>\n\t\t\t\t<IconButton\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tcolor: \"orange\",\n\t\t\t\t\t\tposition: \"relative\",\n\t\t\t\t\t\tbottom: \"500px\",\n\t\t\t\t\t\tleft: \"100px\",\n\t\t\t\t\t}}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tneuralNetworkHelp: true,\n\t\t\t\t\t\t});\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Help />\n\t\t\t\t</IconButton>\n\t\t\t</Box>\n\t\t);\n\n\t\treturn (\n\t\t\t<div id=\"app\">\n\t\t\t\t<Card\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackground: \"#FAFAFA\",\n\t\t\t\t\t\toutlineColor: \"white\",\n\t\t\t\t\t\tpaddingBottom: \"1em\",\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<CardContent\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\ttransform: `scale(${zoom})`,\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\">\n\t\t\t\t\t\t\t<Box marginRight={90}>\n\t\t\t\t\t\t\t\t<img src={keySVG}></img>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t<Typography variant=\"h2\">\n\t\t\t\t\t\t\t\t\t<b>Backprop Tool</b>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\tclassName=\"regular\"\n\t\t\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\t\t\tjustifyContent=\"center\"\n\t\t\t\t\t\t\tmarginTop={2}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{neuralNetwork}\n\t\t\t\t\t\t\t{scatter}\n\t\t\t\t\t\t\t{controlCenter}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</CardContent>\n\t\t\t\t</Card>\n\n\t\t\t\t<Dialog\n\t\t\t\t\tPaperProps={{\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\tbackgroundColor: \"#F7F7F7\",\n\t\t\t\t\t\t},\n\t\t\t\t\t}}\n\t\t\t\t\topen={controlCenterHelp}\n\t\t\t\t>\n\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.setState({ controlCenterHelp: false });\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Close />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</DialogActions>\n\n\t\t\t\t\t<DialogContent>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={controlGif}\n\t\t\t\t\t\t\talt=\"how to use control center\"\n\t\t\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<Typography variant=\"caption\">\n\t\t\t\t\t\t\tThe <em>control</em> center is where you{\" \"}\n\t\t\t\t\t\t\t<em>control</em> the flow of the program. You can\n\t\t\t\t\t\t\tplay, pause, slow down and reset.\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\">\n\t\t\t\t\t\t\t<Box marginBottom={5}>\n\t\t\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t\t\tWhat is an Epoch?\n\t\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t\t<Typography variant=\"body2\">\n\t\t\t\t\t\t\t\t\tAn epoch is single iteration of training.\n\t\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t\t\tWhat is Loss?\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography variant=\"body2\">\n\t\t\t\t\t\t\t\t\tLoss tells you the error of the current\n\t\t\t\t\t\t\t\t\tpredicitions. Lower is better.\n\t\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t\t\tHow Do I go into Backpropogation Mode?\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography variant=\"body2\">\n\t\t\t\t\t\t\t\t\tClick on the EPOCH\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</DialogContent>\n\t\t\t\t</Dialog>\n\t\t\t\t<Dialog\n\t\t\t\t\tPaperProps={{\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\tbackgroundColor: \"#F7F7F7\",\n\t\t\t\t\t\t},\n\t\t\t\t\t}}\n\t\t\t\t\topen={customizationHelp}\n\t\t\t\t>\n\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.setState({ customizationHelp: false });\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Close />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</DialogActions>\n\n\t\t\t\t\t<DialogContent>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={customGif}\n\t\t\t\t\t\t\talt=\"how to use control center\"\n\t\t\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<Typography variant=\"caption\">\n\t\t\t\t\t\t\tThe <em>customization</em> is where you{\" \"}\n\t\t\t\t\t\t\t<em>customize</em> data, learning rate, and model\n\t\t\t\t\t\t\tshape.\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\">\n\t\t\t\t\t\t\t<Box marginBottom={5}>\n\t\t\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t\t\tWhat is an Learning Rate?\n\t\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t\t<Typography variant=\"body2\">\n\t\t\t\t\t\t\t\t\tLearning rate roughly translates to the\n\t\t\t\t\t\t\t\t\tmagnitiude of change each time parameters\n\t\t\t\t\t\t\t\t\tare updated. You could think of it as how\n\t\t\t\t\t\t\t\t\tbig your steps are down a gradient.\n\t\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t\t<Typography variant=\"body2\">\n\t\t\t\t\t\t\t\t\tThe learning rate is applied to the opposite\n\t\t\t\t\t\t\t\t\tgradient after backpropogation.\n\t\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t\t\tWhy would I change learning rate?\n\t\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t\t<Typography variant=\"body2\">\n\t\t\t\t\t\t\t\t\tDepending on the shape of the model and the\n\t\t\t\t\t\t\t\t\tamount of data,a higher learning rate could\n\t\t\t\t\t\t\t\t\tallow your model to take less epochs to\n\t\t\t\t\t\t\t\t\treach the target loss. But if the learning\n\t\t\t\t\t\t\t\t\trate is too large, you will never reach the\n\t\t\t\t\t\t\t\t\tminimum of loss that you want.\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</DialogContent>\n\t\t\t\t</Dialog>\n\n\t\t\t\t<Dialog\n\t\t\t\t\tPaperProps={{\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\tbackgroundColor: \"#FAFAFA\",\n\t\t\t\t\t\t},\n\t\t\t\t\t}}\n\t\t\t\t\topen={neuralNetworkHelp}\n\t\t\t\t>\n\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.setState({ neuralNetworkHelp: false });\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Close />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</DialogActions>\n\n\t\t\t\t\t<DialogContent>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={nnDiagram}\n\t\t\t\t\t\t\talt=\"how to use control center\"\n\t\t\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\">\n\t\t\t\t\t\t\t<Box marginBottom={5}>\n\t\t\t\t\t\t\t\t<Typography variant=\"h6\">Summary</Typography>\n\n\t\t\t\t\t\t\t\t<Typography variant=\"body2\">\n\t\t\t\t\t\t\t\t\tEach grey square with a black outline is a\n\t\t\t\t\t\t\t\t\tneuron. Each connection indicates where the\n\t\t\t\t\t\t\t\t\tinputs travel. The thikness and the color of\n\t\t\t\t\t\t\t\t\teach connection also indicate the weight\n\t\t\t\t\t\t\t\t\tassociated.\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography variant=\"body2\">\n\t\t\t\t\t\t\t\t\tAs the weights change, there will be a\n\t\t\t\t\t\t\t\t\tvisible change in stroke size.\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</DialogContent>\n\t\t\t\t</Dialog>\n\n\t\t\t\t<Dialog\n\t\t\t\t\tPaperProps={{\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\tbackgroundColor: \"#F7F7F7\",\n\t\t\t\t\t\t},\n\t\t\t\t\t}}\n\t\t\t\t\topen={scatterHelp}\n\t\t\t\t>\n\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.setState({ scatterHelp: false });\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Close />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</DialogActions>\n\n\t\t\t\t\t<DialogContent>\n\t\t\t\t\t\t<img src={scatterGif} alt=\"fitment\" width=\"100%\" />\n\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\">\n\t\t\t\t\t\t\t<Box marginBottom={5}>\n\t\t\t\t\t\t\t\t<Typography variant=\"h6\">Summary</Typography>\n\n\t\t\t\t\t\t\t\t<Typography variant=\"body2\">\n\t\t\t\t\t\t\t\t\tThe black line represents the current\n\t\t\t\t\t\t\t\t\tpredictions of the neural network.\n\t\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t\t<Typography variant=\"body2\">\n\t\t\t\t\t\t\t\t\tEach gray dot is a xy coordinate that\n\t\t\t\t\t\t\t\t\trepresents the input and input label.\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</DialogContent>\n\t\t\t\t</Dialog>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default MainTool;\n","import React, { Component } from \"react\";\nimport headerSvg from \"./header.svg\";\nimport headerTitleSVG from \"./headerTitle.svg\";\nimport ReactGa from \"react-ga\";\nimport { MainTool, Explanation } from \"./components/exports\";\nimport { Typography, Button, Box } from \"@material-ui/core\";\nimport { Element } from \"react-scroll\";\n\nclass App extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\tcomponentDidMount() {\n\t\tReactGa.initialize(\"UA-192166007-1\");\n\t\tReactGa.pageview(\"/\");\n\t}\n\trender() {\n\t\tconst mainTool = <MainTool />;\n\t\tconst header = (\n\t\t\t<div>\n\t\t\t\t<img src={headerTitleSVG} width=\"100%\" />\n\t\t\t</div>\n\t\t);\n\t\tconst acks = (\n\t\t\t<div>\n\t\t\t\t<h1>\n\t\t\t\t\tReserve this space under the main tool for refereces, credit\n\t\t\t\t\tacknowledgements\n\t\t\t\t</h1>\n\t\t\t</div>\n\t\t);\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{header}\n\n\t\t\t\t<Explanation />\n\t\t\t\t<Element name=\"mainTool\">\n\t\t\t\t\t<MainTool />\n\t\t\t\t</Element>\n\t\t\t\t{acks}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default App;\n","import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\nimport { Typography } from \"@material-ui/core\";\n\nclass Header extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { width: 2000, height: 1000 };\n\t}\n\n\tasync componentDidMount() {\n\t\tlet w = document.body.clientWidth;\n\t\tthis.setState({ width: w, height: 500 });\n\t\tconst { width, height } = await this.state;\n\t\tconst svg = d3.select(\"#contourBackground\").select(\"#contour\");\n\t\tconst darkness = -8;\n\n\t\tconst data = {\n\t\t\tX: [0, 1, 2, 3, 4],\n\t\t\ty: [4, 3, 3, 1, 0],\n\t\t};\n\t\tlet n = width,\n\t\t\tm = height,\n\t\t\tvalues = new Array(n * m);\n\n\t\tfor (let j = 0.5, k = 0; j < m; ++j) {\n\t\t\tfor (let i = 0.5; i < n; ++i, ++k) {\n\t\t\t\tvalues[k] = loss((i / n) * 10 - 5, (j / m) * 20);\n\t\t\t}\n\t\t}\n\n\t\tfunction loss(m, b) {\n\t\t\tlet x = data.X,\n\t\t\t\ty = data.y;\n\t\t\tlet summed = 0;\n\t\t\tfor (let i = 0; i < data.X.length; i++) {\n\t\t\t\tsummed += Math.pow(m * x[i] + b - y[i], 2);\n\t\t\t}\n\t\t\treturn summed / (2 * x.length);\n\t\t}\n\t\tlet thresholds = d3.range(darkness, 20, 1).map((i) => Math.pow(2, i));\n\t\tlet color = d3.scaleSequentialLog(\n\t\t\td3.extent(thresholds),\n\t\t\td3.interpolateMagma\n\t\t);\n\t\tconst contours = d3.contours().size([n, m]).thresholds(thresholds)(\n\t\t\tvalues\n\t\t);\n\t\tsvg.append(\"g\")\n\t\t\t.attr(\"fill\", \"none\")\n\t\t\t.selectAll(\"path\")\n\t\t\t.data(contours)\n\t\t\t.join(\"path\")\n\t\t\t.attr(\"fill\", (d) => color(d.value))\n\t\t\t.attr(\"d\", d3.geoPath());\n\t}\n\trender() {\n\t\tconst { width, height } = this.state;\n\t\treturn (\n\t\t\t<div id=\"contourBackground\">\n\t\t\t\t<svg style={{ width, height }} id=\"contour\"></svg>\n\t\t\t\t<Typography\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tposition: \"relative\",\n\t\t\t\t\t\tbottom: 200,\n\t\t\t\t\t\tleft: 100,\n\t\t\t\t\t\tcolor: \"white\",\n\t\t\t\t\t}}\n\t\t\t\t\tvariant=\"h2\"\n\t\t\t\t>\n\t\t\t\t\t<b>How Neural Networks Learn </b>\n\t\t\t\t</Typography>\n\t\t\t\t<Typography\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tposition: \"relative\",\n\t\t\t\t\t\tbottom: 200,\n\t\t\t\t\t\tleft: 100,\n\t\t\t\t\t\tcolor: \"white\",\n\t\t\t\t\t}}\n\t\t\t\t\tvariant=\"h6\"\n\t\t\t\t>\n\t\t\t\t\tLearn backpropogation and optimization with interactive\n\t\t\t\t\ttools\n\t\t\t\t</Typography>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Header;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}